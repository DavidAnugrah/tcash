<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    <mapper namespace="RequestInterface" >

     
     <resultMap id="resultListHdr"       type="id.my.berkah.tcash1.model.ListWIPHdrParam" >
        <result column="wip_rcp_id"         property="wiprcpid"      />
        <result column="wip_rcp_no"         property="wiprcpno"       />
        <result column="wip_rcp_date"       property="wiprcpdate"      />
        <result column="prod_issue_id"      property="prodissueid"        />
        <result column="prod_issue_no"      property="prodissueno"        />
        <result column="item_id"            property="itemid"        />
        <result column="item_code"          property="itemcode"        />
        <result column="item_description"   property="itemdescription"        />
        <result column="quantity"           property="quantity"         />
        <result column="unit"               property="unit"         />
        <result column="status"             property="status"         />
        <result column="status_desc"        property="statusdesc"          />
        <result column="create_period"      property="createperiod"          />
        <result column="create_date"        property="createdate"          />
        <result column="created_by"         property="createdby"          />
        <result column="approve_date"       property="approvedate"          />
        <result column="approved_by"        property="approvedby"       />
        <result column="submit_date"        property="submitdate"         />
        <result column="submited_by"        property="submitedby" />
    </resultMap>
  
  
    <select id="getListHdr" parameterType="map" resultMap="resultListHdr">
        select * from( 
        select rownum recno,t.* from ( SELECT   
        wip_rcp_id,
        wip_rcp_no,
        wip_rcp_date,
        prod_issue_id,
        prod_issue_no,
        item_id,
        item_code,
        item_description,
        quantity,
        unit,
        status,
        status_desc,
        create_period,
        create_date,
        created_by,
        approve_date,
        approved_by,
        submit_date,
        submited_by
        FROM   table (pkg_tcash_wip_receipt.ListHdr(#{InWipRcpId}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
     <resultMap id="resultListFindHdr"       type="id.my.berkah.tcash1.model.ListWIPHdrParam" >
        <result column="wip_rcp_id"         property="wiprcpid"      />
        <result column="wip_rcp_no"         property="wiprcpno"       />
        <result column="wip_rcp_date"       property="wiprcpdate"      />
        <result column="prod_issue_id"      property="prodissueid"        />
        <result column="prod_issue_no"      property="prodissueno"        />
        <result column="item_id"            property="itemid"        />
        <result column="item_code"          property="itemcode"        />
        <result column="item_description"   property="itemdescription"        />
        <result column="quantity"           property="quantity"         />
        <result column="unit"               property="unit"         />
        <result column="status"             property="status"         />
        <result column="status_desc"        property="statusdesc"          />
        <result column="create_period"      property="createperiod"          />
        <result column="create_date"        property="createdate"          />
        <result column="created_by"         property="createdby"          />
        <result column="approve_date"       property="approvedate"          />
        <result column="approved_by"        property="approvedby"       />
        <result column="submit_date"        property="submitdate"         />
        <result column="submited_by"        property="submitedby" />
    </resultMap>
  
  
    <select id="getListFindHdr" parameterType="map" resultMap="resultListFindHdr">
        select * from( 
        select rownum recno,t.* from ( SELECT   
        wip_rcp_id,
        wip_rcp_no,
        wip_rcp_date,
        prod_issue_id,
        prod_issue_no,
        item_id,
        item_code,
        item_description,
        quantity,
        unit,
        status,
        status_desc,
        create_period,
        create_date,
        created_by,
        approve_date,
        approved_by,
        submit_date,
        submited_by
        FROM   table (pkg_tcash_wip_receipt.ListFindHdr(#{InWipRcpId},
        #{InDateFrom},
        #{InDateTo},
        #{InStatus},
        #{InProdIssueNo}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <select id="selectListHdr" parameterType="map" resultMap="resultListHdr">
        SELECT    *
        FROM   table (pkg_tcash_wip_receipt.ListHdr(#{InWipRcpId}))
    </select>
    
    
   
    
    <resultMap id="resultCountwipListFindparam" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
     <select id="getCountwipListFindparam" parameterType="Map" resultMap="resultCountwipListFindparam">
        Select COUNT(1) RecCount FROM   table (pkg_tcash_wip_receipt.ListFindHdr(#{InWipRcpId},#{InDateFrom},#{InDateTo},#{InStatus},#{InProdIssueNo}))
    </select>
    
    
    <select id ="doInsertWIPHDR" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_wip_receipt.InsertHdr
        (
        #{InWipRcpId,           mode=IN,   jdbcType=NUMERIC},
        #{InProdIssueId,        mode=IN,   jdbcType=NUMERIC},
        #{InProdIssueNo,        mode=IN,   jdbcType=VARCHAR},
        #{InItemId,             mode=IN,   jdbcType=VARCHAR},
        #{InQty,                mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{OutWipRcpId,          mode=OUT,  jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }
        
    </select>
    
        
    <select id ="doValidateInsertHdr" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_wip_receipt.ValidateInsertHdr
        (
        #{InWipRcpId,           mode=IN,   jdbcType=NUMERIC},
        #{InProdIssueId,        mode=IN,   jdbcType=NUMERIC},
        #{InItemId,             mode=IN,   jdbcType=VARCHAR},
        #{InQty,                mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }
        
    </select>
    
    <select id ="doUpdateHdr" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_wip_receipt.UpdateHdr
        (
        #{InWipRcpId,           mode=IN,   jdbcType=NUMERIC},
        #{InProdIssueId,        mode=IN,   jdbcType=NUMERIC},
        #{InProdIssueNo,        mode=IN,   jdbcType=VARCHAR},
        #{InItemId,             mode=IN,   jdbcType=VARCHAR},
        #{InQty,                mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }
              
    </select>
    
    <select id ="doValidateUpdateHdr" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_wip_receipt.ValidateUpdateHdr
        (
        #{InWipId,              mode=IN,   jdbcType=NUMERIC},
        #{InProdIssueId,        mode=IN,   jdbcType=NUMERIC},
        #{InItemId,             mode=IN,   jdbcType=NUMERIC},
        #{InQty,                mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }
              
    </select>
  
    
    <select id ="doValidateStatus" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_wip_receipt.ValidateStatus
        (
        #{InWipRcpId,           mode=IN,   jdbcType=NUMERIC},
        #{InStatus,             mode=IN,   jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
    <select id ="doUpdateStatusWIP" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_wip_receipt.UpdateStatusWIP
        (
        #{InWipRcpId,           mode=IN,   jdbcType=NUMERIC},
        #{InStatus,             mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
    <select id="doInsertSelectSnTemp" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_wip_receipt.InsertSelectSnTemp
        (
        #{InWipRcpId,           mode=IN,   jdbcType=NUMERIC},
        #{InProdIssueId,        mode=IN,   jdbcType=NUMERIC},
        #{InItemId,             mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
     <resultMap id="resultListSelectSnTemp" type="id.my.berkah.tcash1.model.ListselectParam" >
        <result column="wip_rcp_serial_id"  property="wiprcpserialid"      />
        <result column="wip_rcp_id"         property="wiprcpid"      />
        <result column="item_id"            property="itemid"       />
        <result column="from_sn"            property="fromsn"      />
        <result column="to_sn"              property="tosn"        />
        <result column="qty"                property="qty"        />
        <result column="item_detail_id"     property="itemdetailid"        />
        <result column="storage_id"         property="storageid"        />
        <result column="item_loc_id"        property="itemlocid"        />
        <result column="lot_id"             property="lotid"         />
        <result column="wh_id"              property="whid"         />
        <result column="wh_loc_id"          property="whlocid"         />
    </resultMap>
  
    
     <select id="getListSelectSnTemp" parameterType="map" resultMap="resultListSelectSnTemp">
        select * from( 
        select rownum recno,t.* from ( SELECT   
        wip_rcp_serial_id,
        wip_rcp_id,
        item_id,
        from_sn,
        to_sn,
        qty,
        item_detail_id,
        storage_id,
        item_loc_id,
        lot_id,
        wh_id,
        wh_loc_id
        FROM   table (pkg_tcash_wip_receipt.ListSelectSnTemp(#{InWipRcpId}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <resultMap id="resultCountListSelectSnTemp" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
     <select id="getCountListSelectSnTemp" parameterType="map" resultMap="resultCountListSelectSnTemp">
        Select COUNT(1) RecCount FROM   table (pkg_tcash_wip_receipt.ListSelectSnTemp(#{InWipRcpId}))
    </select>
    
    
       <select id ="doValidateSelectSn" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_wip_receipt.ValidateSelectSn
        (
        #{InItemDtlId,          mode=IN,   jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
       <select id ="doInvSelectSN" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_wip_receipt.InvSelectSN
        (
        #{InWipRcpId,           mode=IN,   jdbcType=NUMERIC},
        #{InItemLocId,          mode=IN,   jdbcType=NUMERIC},
        #{InBlockFrom,          mode=IN,   jdbcType=VARCHAR},
        #{InBlockTo,            mode=IN,   jdbcType=VARCHAR},
        #{InQty,                mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
    
      <resultMap id="resultListInvSelectSN" type="id.my.berkah.tcash1.model.ListselectParam" >
        <result column="wip_rcp_serial_id"  property="wiprcpserialid"      />
        <result column="wip_rcp_id"         property="wiprcpid"      />
        <result column="item_id"            property="itemid"       />
        <result column="from_sn"            property="fromsn"      />
        <result column="to_sn"              property="tosn"        />
        <result column="qty"                property="qty"        />
        <result column="item_detail_id"     property="itemdetailid"        />
        <result column="storage_id"         property="storageid"        />
        <result column="item_loc_id"        property="itemlocid"        />
        <result column="lot_id"             property="lotid"         />
        <result column="wh_id"              property="whid"         />
        <result column="wh_loc_id"          property="whlocid"         />
 
    </resultMap>
  
    
     <select id="getListInvSelectSN" parameterType="map" resultMap="resultListInvSelectSN">
        select * from( 
        select rownum recno,t.* from ( SELECT   
        wip_rcp_serial_id,
        wip_rcp_id,
        item_id,
        from_sn,
        to_sn,
        qty,
        item_detail_id,
        storage_id,
        item_loc_id,
        lot_id,
        wh_id,
         wh_loc_id
        FROM   table (pkg_tcash_wip_receipt.ListInvSelectSN(#{InWipRcpId}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <resultMap id="resultCountListInvSelectSN" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
     <select id="getCountListInvSelectSN" parameterType="map" resultMap="resultCountListInvSelectSN">
        Select COUNT(1) RecCount FROM   table (pkg_tcash_wip_receipt.ListInvSelectSN(#{InWipRcpId}))
    </select>
    
    
     <select id ="doInvUnselectSN" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_wip_receipt.InvUnselectSN
        (
        #{InWipRcpId,           mode=IN,   jdbcType=NUMERIC},
        #{InItemLocId,          mode=IN,   jdbcType=NUMERIC},
        #{InBlockFrom,          mode=IN,   jdbcType=VARCHAR},
        #{InBlockTo,            mode=IN,   jdbcType=VARCHAR},
        #{InQty,                mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
    
    <select id="dorunningAuto" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_auto_gen.running
        (
        #{InWoId,            mode=IN,     jdbcType=NUMERIC},
        #{InWipWhId,         mode=IN,     jdbcType=NUMERIC},
        #{InUserId,          mode=IN,     jdbcType=NUMERIC},
        #{OutAutoGenId,      mode=OUT,    jdbcType=NUMERIC},
        #{OutAutoGenNum,     mode=OUT,    jdbcType=VARCHAR},
        #{OutAutoGenDate,    mode=OUT,    jdbcType=VARCHAR},
        #{OutUserName,       mode=OUT,    jdbcType=VARCHAR},
        #{OutGdHdrId,        mode=OUT,    jdbcType=NUMERIC},
        #{OutGdHdrNo,        mode=OUT,    jdbcType=VARCHAR},
        #{OutReceiveId,      mode=OUT,    jdbcType=NUMERIC},
        #{OutReceiveNo,      mode=OUT,    jdbcType=VARCHAR},
        #{OutProdIssueId,    mode=OUT,    jdbcType=NUMERIC},
        #{OutProdIssueNo,    mode=OUT,    jdbcType=VARCHAR},
        #{OutWipRcpId,       mode=OUT,    jdbcType=NUMERIC},
        #{OutWipRcpNo,       mode=OUT,    jdbcType=VARCHAR},
        #{OutError,          mode=OUT,    jdbcType=INTEGER},
        #{OutMessages,       mode=OUT,    jdbcType=VARCHAR}
        )
    }    
    </select>
    
    
   
    
    <select id="getListShopFloor" parameterType="map" resultType="id.my.berkah.tcash1.model.ListShopFloorParam">
        select 
        sfc_id,
        bu_id,
        bu_code,
        bu_description,
        sfc_no,
        sfc_date,
        wo_type,
        wo_type_name,
        wo_id,
        wo_no,
        item_id,
        item_code,
        item_description,
        wip_wh_id,
        wh_code,
        wh_description,
        quantity_complete,
        status,
        status_name,
        create_period,
        create_date,
        created_by,
        created_by_name,
        submit_date,
        submited_by,
        submited_by_name,
        approve_date,
        approvd_by,
        approvd_by_name,
        cancel_date,
        canceled_by,
        canceled_by_name,
        quantity_order,
        total_complete,
        quantity_outstanding
        from table (pkg_tcash_shopfloor.ListShopFloor(
        #{InBuId},
        #{InSfcId},
        #{InSfcDateFrom},
        #{InSfcDateTo},
        #{InWoId},
        #{InWoType},
        #{InItemId},
        #{InWhID},
        #{InStatus}
        ))
    </select>
    
      <select id="selectListHdrSFC" parameterType="map" resultType="id.my.berkah.tcash1.model.ListShopFloorParam">
        SELECT    *
        FROM   table (pkg_tcash_shopfloor.ListShopFloor('',
        '',
        '',
        '',
        '',
        '',
        '',
        '',
       ''
        )) where sfc_id = #{sfc_id}
    </select>
    
    <select id="getListShopFloorDtl" parameterType="map" resultType="id.my.berkah.tcash1.model.ListShopFloorDtlParam">
        select 
        SFC_ID,
        ITEM_ID,
        ITEM_CODE,
        ITEM_DESCRIPTION,
        FROM_SN,
        TO_SN,
        STATUS,
        STATUS_NAME,
        FILE_NAME,
        UPLOAD_DATE,
        STATUS_MESSAGE
        from table (pkg_tcash_shopfloor.ListShopFloorDtl(
        #{InSfcId}))
        
    </select>
    
    
    <select id="doCreateShopFloor" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_shopfloor.CreateShopFloor
        (
        #{sfcBuId,          mode=IN, jdbcType=NUMERIC},
        #{sfcType,          mode=IN, jdbcType=VARCHAR},
        #{sfcWoId,          mode=IN, jdbcType=NUMERIC},
        #{sfcItemId,        mode=IN, jdbcType=NUMERIC},
        #{sfcWhWIPId,       mode=IN, jdbcType=NUMERIC},
        #{sfcQty,           mode=IN, jdbcType=NUMERIC},
        #{sfcStatus ,       mode=IN, jdbcType=NUMERIC},
        #{sfcUserId,        mode=IN, jdbcType=NUMERIC},
        #{sfcId,            mode=OUT, jdbcType=NUMERIC},
        #{err,              mode=OUT, jdbcType=INTEGER},
        #{msg,              mode=OUT, jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doUpdateShopFloor" parameterType="Map" statementType="CALLABLE">
        {CALL pkg_tcash_shopfloor.UpdateShopFloor
        (
        #{sfcId,            mode=IN, jdbcType=NUMERIC},
        #{sfcDate,          mode=IN, jdbcType=VARCHAR},
        #{sfcType,          mode=IN, jdbcType=NUMERIC},
        #{sfcWoId,          mode=IN, jdbcType=NUMERIC},
        #{sfcItemId,        mode=IN, jdbcType=NUMERIC},
        #{sfcWhWIPId,       mode=IN, jdbcType=NUMERIC},
        #{sfcQty,           mode=IN, jdbcType=NUMERIC},
        #{sfcUserId,        mode=IN, jdbcType=NUMERIC},
        #{err,              mode=OUT, jdbcType=INTEGER},
        #{msg,              mode=OUT, jdbcType=VARCHAR}
        )}
    </select>
    
    
    <select id="doApproveShopFloor" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_shopfloor.ApproveShopFloor
        (
        #{sfcId,            mode=IN,  jdbcType=NUMERIC},
        #{sfcDate,          mode=IN,  jdbcType=VARCHAR},
        #{sfcType,          mode=IN,  jdbcType=NUMERIC},
        #{sfcWoId,          mode=IN,  jdbcType=NUMERIC},
        #{sfcItemId,        mode=IN,  jdbcType=NUMERIC},
        #{sfcWhWIPId,       mode=IN,  jdbcType=NUMERIC},
        #{sfcQty,           mode=IN,  jdbcType=NUMERIC},
        #{sfcUserId,        mode=IN,  jdbcType=NUMERIC},
        #{err,              mode=OUT, jdbcType=INTEGER},
        #{msg,              mode=OUT, jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="doSubmitShopFloor" parameterType="Map" statementType="CALLABLE">
        {CALL pkg_tcash_shopfloor.SubmitShopFloor
        (
        #{sfcId,            mode=IN,  jdbcType=NUMERIC},
        #{sfcUserId,        mode=IN,  jdbcType=NUMERIC},
        #{err,              mode=OUT, jdbcType=INTEGER},
        #{msg,              mode=OUT, jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="doCancelShopFloor" parameterType="Map" statementType="CALLABLE">
        {CALL pkg_tcash_shopfloor.CancelShopFloor
        (
        #{sfcId,            mode=IN,    jdbcType=NUMERIC},
        #{sfcUserId,        mode=IN,    jdbcType=NUMERIC},
        #{err,              mode=OUT,   jdbcType=INTEGER},
        #{msg,              mode=OUT,   jdbcType=VARCHAR}
        )
        }
    </select>
    
    
    <select id="doValidateQuantityComplete" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_shopfloor.ValidateQuantityComplete
        (
        #{sfcWoId,          mode=IN,    jdbcType=NUMERIC},
        #{sfcItemId,        mode=IN,    jdbcType=NUMERIC},
        #{sfcQty,           mode=IN,    jdbcType=NUMERIC},
        #{err,              mode=OUT,   jdbcType=INTEGER},
        #{msg,              mode=OUT,   jdbcType=VARCHAR}
        )
        }
    </select>
    
       <select id="getListSelectSNTempSFC" parameterType="map" resultType="id.my.berkah.tcash1.model.ListSelectSNTempParam">
        select 
        SFC_ID,
        SFC_DTL_ID,
        item_id,
        sn_from,
        sn_to,
        quantity,
        item_detail_id,
        storage_id,
        item_loc_id,
        lot_id,
        wh_id,
        wh_loc_id
        from table (pkg_tcash_shopfloor.ListSelectSNTemp(
        #{InWIPRcpDtlId}))
    </select>
    
   
       <select id="getListInvSelectSNSFC" parameterType="map" resultType="id.my.berkah.tcash1.model.ListInvSelectSNParam">
        select 
        SFC_ID,
        SFC_DTL_ID,
        item_id,
        sn_from,
        sn_to,
        quantity,
        item_detail_id,
        storage_id,
        item_loc_id,
        lot_id,
        wh_id,
        wh_loc_id
        from table (pkg_tcash_shopfloor.ListInvSelectSN(
        #{InProdIssueDtlId}))
    </select>
    
      <select id ="doValidateSelectSnSFC" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_wip_receipt.ValidateSelectSn
        (
        #{InItemDtlId,          mode=IN,   jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
    
    <select id ="doInvSelectSNSFC" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_shopfloor.InvSelectSN
        (
        #{InProdIssueDtlId,           mode=IN,   jdbcType=NUMERIC},
        #{InItemLocId,          mode=IN,   jdbcType=NUMERIC},
        #{InBlockFrom,          mode=IN,   jdbcType=VARCHAR},
        #{InBlockTo,            mode=IN,   jdbcType=VARCHAR},
        #{InQty,                mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
     <select id="doInsertSelectSnTempSFC" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_shopfloor.InsertSelectSnTemp
        (
        #{InWIPRcpDtlId,        mode=IN,   jdbcType=NUMERIC},
        #{InWipRcpId,           mode=IN,   jdbcType=NUMERIC},
        #{InWhId,               mode=IN,   jdbcType=NUMERIC},
        #{InItemId,             mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
     <select id ="doInvUnselectSNSFC" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_shopfloor.InvUnselectSN
        (
        #{InProdIssueDtlId,     mode=IN,   jdbcType=NUMERIC},
        #{InItemLocId,          mode=IN,   jdbcType=NUMERIC},
        #{InBlockFrom,          mode=IN,   jdbcType=VARCHAR},
        #{InBlockTo,            mode=IN,   jdbcType=VARCHAR},
        #{InQty,                mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
     <select id ="doAutoInvSelectSNSFC" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_shopfloor.AutoInvSelectSN
        (
        #{InPoId,            mode=IN,   jdbcType=NUMERIC},
        #{InProdIssueDtlId,  mode=IN,   jdbcType=NUMERIC},
        #{InUserId,          mode=IN,   jdbcType=VARCHAR},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
     <select id ="doPairingValidateInsertHdr" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_pairing.PairingValidateInsertHdr
        (
        #{InPoId,            mode=IN,   jdbcType=NUMERIC},
        #{InItemId,          mode=IN,   jdbcType=NUMERIC},
        #{OutError,          mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,       mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
     <select id ="doPairingInsertHdr" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_pairing.PairingInsertHdr
        (
        #{InPoId,               mode=IN,   jdbcType=NUMERIC},
        #{InItemId,             mode=IN,   jdbcType=NUMERIC},
        #{InQuantity,           mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{OutPairingId,         mode=OUT,  jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
     <select id ="doPairingInsertDtl" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_pairing.PairingInsertDtl
        (
        #{PI_PairingId,         mode=IN,   jdbcType=NUMERIC},
        #{PI_ItemID,            mode=IN,   jdbcType=NUMERIC},
        #{PI_ProdIssueId,       mode=IN,   jdbcType=NUMERIC},
        #{PI_FromSN,            mode=IN,   jdbcType=NUMERIC},
        #{PI_FromTo,            mode=IN,   jdbcType=NUMERIC},
        #{PI_CreatedBy,         mode=IN,   jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
    
    <select id="getPairingListHdr" parameterType="map" resultType="id.my.berkah.tcash1.model.ListPairingHdrParam">
        select 
        pairing_id,
        pairing_no,
        pairing_date,
        wo_type,
        wo_id,
        wo_no,
        item_id,
        item_code,
        item_desc,
        quantity,
        status,
        create_date,
        create_period,
        created_by,
        submit_date,
        submited_by,
        approve_date,
        approved_by,
        cancel_date,
        cancel_by
        from table(pkg_tcash_pairing.PairingListHdr(#{InPairingId}))
        <if test="search != null" >
            where pairing_no LIKE #{search.pairNo}
            <if test="search.woid != null" >
                and wo_id = #{search.woid}
            </if>
            <if test="search.itemid != null" >
                and item_id = #{search.itemid}
            </if>
            <if test="search.status != null" >
                and status = #{search.status}
            </if>
            <if test="( search.dateStart != null and search.dateTo != null )" >
                and to_date(pairing_date, 'DD-MM-RRRR') &gt;= to_date(#{search.dateStart}, 'DD-MM-RRRR')
                and to_date(pairing_date, 'DD-MM-RRRR') &lt;= to_date(#{search.dateTo}, 'DD-MM-RRRR') 
            </if>
        </if>
    </select>
    
    
     <select id ="doPairingValidateUpdateHdr" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_pairing.PairingValidateUpdateHdr
        (
        #{InPairingId,            mode=IN,   jdbcType=NUMERIC},
        #{InPoId,            mode=IN,   jdbcType=NUMERIC},
        #{InItemId,          mode=IN,   jdbcType=NUMERIC},
        #{OutError,          mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,       mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
     <select id ="doPairingUpdateHdr" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_pairing.PairingUpdateHdr
        (
        #{InPairingId,               mode=IN,   jdbcType=NUMERIC},
        #{InPoId,               mode=IN,   jdbcType=NUMERIC},
        #{InItemId,             mode=IN,   jdbcType=NUMERIC},
        #{InQuantity,           mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
    <select id ="doPairingSubmitHdr" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_pairing.PairingSubmitHdr
        (
        #{InPairingId,       mode=IN,   jdbcType=NUMERIC},
        #{InUserId,          mode=IN,   jdbcType=NUMERIC},
        #{OutError,          mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,       mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
    <select id ="doPairingCancelHdr" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_pairing.PairingCancelHdr
        (
        #{InPairingId,       mode=IN,   jdbcType=NUMERIC},
        #{InUserId,          mode=IN,   jdbcType=NUMERIC},
        #{OutError,          mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,       mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    <select id ="doPairingApproveHdr" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_pairing.PairingApproveHdr
        (
        #{InPairingId,       mode=IN,   jdbcType=NUMERIC},
        #{InUserId,          mode=IN,   jdbcType=NUMERIC},
        #{OutError,          mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,       mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
    
     <select id="getPairingListDtl" parameterType="map" resultType="id.my.berkah.tcash1.model.ListPairingDTLParam">
        select 
        pairing_dtl_id,
        pairing_ID,
        item_id,
        prod_issue_id,
        from_sn,
        to_sn,
        create_date,
        created_by
        from table(pkg_tcash_pairing.PairingListDtl(#{InPairingId}))
    </select>
    
    
      <select id ="doInsertMappingbdl" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_mapping_bdl.InsertMappingbdl
        (
        #{itembdlid,            mode=IN,   jdbcType=NUMERIC},
        #{itemid,               mode=IN,   jdbcType=NUMERIC},
        #{p_uom,                mode=IN,   jdbcType=VARCHAR},
        #{p_compo,              mode=IN,   jdbcType=NUMERIC},
        #{userId,               mode=IN,   jdbcType=NUMERIC},
        #{bundleid,             mode=OUT,  jdbcType=NUMERIC},
        #{err,                  mode=OUT,  jdbcType=INTEGER},
        #{msg,                  mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
      <select id ="doModifyMappingbdl" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_mapping_bdl.ModifyMappingbdl
        (
        #{Inid,                   mode=IN,   jdbcType=NUMERIC},
        #{itemid,               mode=IN,   jdbcType=NUMERIC},
        #{p_uom,                mode=IN,   jdbcType=VARCHAR},
        #{p_compo,              mode=IN,   jdbcType=NUMERIC},
        #{userId,               mode=IN,   jdbcType=NUMERIC},
        #{err,                  mode=OUT,  jdbcType=INTEGER},
        #{msg,                  mode=OUT,  jdbcType=VARCHAR}
        )
        }  
    </select>
    
    <select id ="doExpireMappingbdlAll" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_mapping_bdl.ExpireMappingbdlAll
        (
        #{InItemBundlingId,     mode=IN,    jdbcType=NUMERIC},
        #{InUserId,               mode=IN,    jdbcType=NUMERIC},
        #{OutError,             mode=OUT,   jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,   jdbcType=VARCHAR}
        )
        }
    </select>
    
    
    <select id="getListHeaderbdl" parameterType="map" resultType="id.my.berkah.tcash1.model.ListHDRMappingBDL">
        select 
        item_bundling_id,
        item_code,
        item_description,
        uom,
        created_date,
        created_by,
        terminate_date,
        terminate_by
        from table(pkg_tcash_mapping_bdl.ListHeaderbdl(#{Inbdl}))
    </select>
    
    <select id="getListDetailBdl" parameterType="map" resultType="id.my.berkah.tcash1.model.ListDTLMappingBDL">
        select 
        id,
        item_id,
        item_code,
        item_description,
        created_date,
        created_by,
        expiry_date,
        expiry_by,
        uom,
        composition,
        default_sn
        from table(pkg_tcash_mapping_bdl.ListDetailBdl(#{InId}))
    </select>
    
    
    <select id="doDeleteMappingbdl" parameterType="map" statementType="CALLABLE">
        {call pkg_tcash_mapping_bdl.DeleteMappingbdl
        (
        #{Inid,                mode=IN,  jdbcType=NUMERIC},
        #{OutError,           mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,        mode=OUT,  jdbcType=VARCHAR}
        )
        }
    </select>
    
 <select id ="doExpireMappingbdl" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_mapping_bdl.ExpireMappingbdl
        (
        #{Inid,               mode=IN,   jdbcType=NUMERIC},
        #{userId,             mode=IN,   jdbcType=NUMERIC},
        #{OutError,           mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,        mode=OUT,  jdbcType=VARCHAR}
        )
        }      
 </select>
 
 <select id="doSetDefaultSN" parameterType="map" statementType="CALLABLE">
     {call  pkg_tcash_mapping_bdl.SetDefaultSN
     (
     #{InId,            mode=IN,    jdbcType=NUMERIC},
     #{InItemBdlId,     mode=IN,    jdbcType=NUMERIC},
     #{OutError,        mode=OUT,   jdbcType=INTEGER},
     #{OutMessages,     mode=OUT,   jdbcType=VARCHAR}
     )
     }
 </select>
 
 
 
 <!-- IFM Tcash  -->
 
 <select id ="doWoUpdatePairingSn" parameterType="map" statementType="CALLABLE" >
     { CALL pkg_tcash_wo.WoUpdatePairingSn
     (
     #{InPoId,         mode=IN,   jdbcType=NUMERIC},
     #{InPoLine,       mode=IN,   jdbcType=NUMERIC},
     #{InUploadId,     mode=IN,   jdbcType=NUMERIC},
     #{InSupplierId,   mode=IN,   jdbcType=NUMERIC},
     #{InSupplierCode, mode=IN,   jdbcType=VARCHAR},
     #{InItemId,       mode=IN,   jdbcType=NUMERIC},
     #{InUserId,       mode=IN,   jdbcType=NUMERIC},
     #{OutError,       mode=OUT,  jdbcType=INTEGER},
     #{OutMessages,    mode=OUT,  jdbcType=VARCHAR}
     )
     }
 </select>
 
  <select id="doWoSaveHeader" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoSaveHdr 
        (
        #{inAction,     mode=IN,   jdbcType=VARCHAR},
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inBuId,       mode=IN,   jdbcType=NUMERIC},
        #{inSupplierId, mode=IN,   jdbcType=NUMERIC},
        #{inSupplierCode,   mode=IN,   jdbcType=VARCHAR},
        #{inSiteId,     mode=IN,   jdbcType=NUMERIC},
        #{inContractId, mode=IN,   jdbcType=NUMERIC},
        #{inContractNo, mode=IN,   jdbcType=VARCHAR},
        #{inCurrency,   mode=IN,   jdbcType=VARCHAR},
        #{inUserId,     mode=IN,   jdbcType=NUMERIC},
        #{inOrderType,  mode=IN,   jdbcType=NUMERIC},
        #{inOrderDate,    mode=IN,   jdbcType=VARCHAR},
        #{inStatus,     mode=IN,   jdbcType=NUMERIC},
        #{inRemarks,    mode=IN,   jdbcType=VARCHAR},
        #{inTopId,    mode=IN,   jdbcType=NUMERIC},
        #{inTopDesc,    mode=IN,   jdbcType=VARCHAR},
        #{outPoId,      mode=OUT,  jdbcType=NUMERIC},
        #{outPoNo,      mode=OUT,  jdbcType=VARCHAR},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultWo" type="id.my.berkah.tcash1.model.ListWoParam">
        <result property="po_id"            column="po_id" />
        <result property="purchase_order"        column="purchase_order" />
        <result property="bu_id"      column="bu_id"/>  
        <result property="bu_code"      column="bu_code"/>  
        <result property="bu_description"          column="bu_description"/>  
        <result property="supplier_id"          column="supplier_id"/>  
        <result property="supplier_code"          column="supplier_code"/>  
        <result property="supplier_name"          column="supplier_name" />  
        <result property="site_id"              column="site_id" />  
        <result property="site_code"              column="site_code" />  
        <result property="site_name"      column="site_name"/>  
        <result property="terms_of_payment_id"  column="terms_of_payment_id"/>  
        <result property="terms_of_payment_desc"  column="terms_of_payment_desc"/>  
        <result property="order_date"         column="order_date"/>  
        <result property="currency"     column="currency"/>  
        <result property="contract_id"     column="contract_id"/>  
        <result property="contract"     column="contract"/>  
        <result property="order_type"       column="order_type"/>  
        <result property="order_type_desc"       column="order_type_desc"/>  
        <result property="status_desc"         column="status_desc" />  
        <result property="remarks"         column="remarks" />  
        <result property="created_date"         column="created_date" />  
        <result property="created_by_name"         column="created_by_name" />  
        <result property="processed_date"         column="processed_date" />  
        <result property="processed_by_name"         column="processed_by_name" />  
        <result property="approved_date"         column="approved_date" />  
        <result property="approved_by_name"         column="approved_by_name" />  
        <result property="cancel_by_name"         column="cancel_by_name" />  
        <result property="cancel_date"         column="cancel_date" />  
    </resultMap>
    
    <select id="selectListWo" parameterType="map" resultMap="resultWo">
        select * from( 
        select rownum recno,t.* from ( select *
        from table(pkg_tcash_wo.WoListHdr(#{userId},
        #{respId},
        #{poNo},
        #{buCode},
        #{status},
        #{orderType},
        #{dateFrom},
        #{dateTo}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <select id="selectallWo" parameterType="map" resultMap="resultWo">
       select *
        from table(pkg_tcash_wo.WoListHdr(#{userId},
        #{respId},
        #{poNo},
        #{buCode},
        #{status},
        #{orderType},
        #{dateFrom},
        #{dateTo}))
    </select>
    
    <select id="selectWo" parameterType="map" resultMap="resultWo">
        select *
        from table(pkg_tcash_wo.WoListHdr(#{userId},
        #{respId},
        '',
        '',
        '',
        '','',''))where PO_ID = #{poId}
    </select>
    
     <select id="getListSNUploadError" parameterType="map" resultType="id.my.berkah.tcash1.model.ListSNUploadErrorParam">
        select
        error_description
        from table(pkg_tcash_wo.ListSNUploadError(#{InUploadId},#{InPoLine}))
    </select>
    
    <resultMap id="resultCountListWo" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountWo" parameterType="map" resultMap="resultCountListWo">
        Select COUNT(1) RecCount from table(pkg_tcash_wo.WoListHdr(#{userId},
        #{respId},
        #{poNo},
        #{buCode},
        #{status},
        #{orderType},
        #{dateFrom},
        #{dateTo}))
    </select>
    
    <select id="doWoSaveDtl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoSaveDtl 
        (
        #{inReqId,     mode=IN,   jdbcType=NUMERIC},
        #{inReqLineId,     mode=IN,   jdbcType=NUMERIC},
        #{inContractId,       mode=IN,   jdbcType=NUMERIC},
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inPoNo, mode=IN,   jdbcType=VARCHAR},
        #{inUserId,   mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultWoListAddLineHdr" type="id.my.berkah.tcash1.model.ListWoListAddLineHdrParam">
        <result property="remarks"            column="remarks" />
        <result property="currency"        column="currency" />
        <result property="bu_id"      column="bu_id"/>  
        <result property="bu_code"      column="bu_code"/>  
        <result property="bu_description"          column="bu_description"/>  
        <result property="requisition_id"          column="requisition_id"/>  
        <result property="requisition_number"          column="requisition_number"/>  
        <result property="requisition_date"          column="requisition_date" />  
    </resultMap>
    
    <select id="selectWoListAddLineHdr" parameterType="map" resultMap="resultWoListAddLineHdr">
        select *
        from table(pkg_tcash_wo.WoListAddLineHdr(#{userId},
        #{respId},
        #{inContractId},
        #{inOrderType}))
    </select>
    
    <resultMap id="resultWoListAddLineDtl" type="id.my.berkah.tcash1.model.ListWoListAddLineDtlParam">
        <result property="requisition_line"            column="requisition_line" />
        <result property="item_id"        column="item_id" />
        <result property="item_code"      column="item_code"/>  
        <result property="item_name"      column="item_name"/>  
        <result property="regional_id"      column="regional_id"/>  
        <result property="regional_description"          column="regional_description"/>  
        <result property="required_date"          column="required_date"/>  
        <result property="order_unit"          column="order_unit"/>  
        <result property="order_quantity"          column="order_quantity" />  
        <result property="bu_id"          column="bu_id" />  
        <result property="bu_code"          column="bu_code" />  
        <result property="bu_description"          column="bu_description" />  
        <result property="wh_description"          column="wh_description" />  
        <result property="purchase_order_qty"          column="purchase_order_qty" />  
        <result property="outstanding_qty"          column="outstanding_qty" />  
    </resultMap>
    
    <select id="selectWoListAddLineDtl" parameterType="map" resultMap="resultWoListAddLineDtl">
        select *
        from table(pkg_tcash_wo.WoListAddLineDtl(#{inReqId},#{inContractId},#{inOrderType}))
    </select>
    
    <select id="doWoValidateAddLine" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoValidateAddLine 
        (
        #{inWoStatus,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultWoListDtl" type="id.my.berkah.tcash1.model.ListWoListDtlParam">
        <result property="po_line_id"            column="po_line_id" />
        <result property="po_id"        column="po_id" />
        <result property="purchase_order"      column="purchase_order"/>  
        <result property="po_line"      column="po_line"/>  
        <result property="supplier"      column="supplier"/>  
        <result property="item_id"          column="item_id"/>  
        <result property="item"          column="item"/>  
        <result property="item_description"          column="item_description"/>  
        <result property="purchase_unit"          column="purchase_unit" />  
        <result property="ordered_quantity"          column="ordered_quantity" />  
        <result property="price"          column="price" />  
        <result property="purchase_price_unit"          column="purchase_price_unit" />  
        <result property="line_discount"          column="line_discount" />  
        <result property="discount_amount"          column="discount_amount" />  
        <result property="amount"          column="amount" />  
        <result property="tax_code"          column="tax_code" />  
        <result property="tax"          column="tax" />  
        <result property="receiving_bu_id"          column="receiving_bu_id" />  
        <result property="receiving_bu_code"          column="receiving_bu_code" />  
        <result property="receiving_bu_desc"          column="receiving_bu_desc" />  
        <result property="warehouse_id"          column="warehouse_id" />  
        <result property="warehouse"          column="warehouse" />  
        <result property="warehouse_desc"          column="warehouse_desc" />  
        <result property="requisition_dtl_id"          column="requisition_dtl_id" />  
        <result property="requisition_id"          column="requisition_id" />  
        <result property="requisition_number"          column="requisition_number" />  
        <result property="requisition_line"          column="requisition_line" />  
        <result property="line_requisition_number"          column="line_requisition_number" />  
        <result property="contract_dtl_id"          column="contract_dtl_id" />  
        <result property="contract_id"          column="contract_id" />  
        <result property="contract"          column="contract" />  
        <result property="contract_line_no"          column="contract_line_no" />  
        <result property="regional_id"          column="regional_id" />  
        <result property="regional_description"          column="regional_description" />  
        <result property="expired_date"          column="expired_date" />  
        <result property="outstanding"          column="outstanding" />  
        <result property="art_description"          column="art_description" />  
    </resultMap>
    
    <select id="selectWoListDtl" parameterType="map" resultMap="resultWoListDtl">
        select *
        from table(pkg_tcash_wo.WoListDtl(#{poId}))
    </select>
    
    <resultMap id="resultWoListHLR" type="id.my.berkah.tcash1.model.ListWoListHLRParam">
        <result property="po_line"            column="po_line" />
        <result property="po_line_id"        column="po_line_id" />
        <result property="qty"      column="qty"/>  
        <result property="hlr_description"      column="hlr_description"/>  
        <result property="regional_description"      column="regional_description"/>  
        <result property="regional_code"          column="regional_code"/>  
        <result property="hlr_map_id"          column="hlr_map_id"/>  
        <result property="item_loc_id"          column="item_loc_id"/>  
        <result property="position_num"          column="position_num" />  
        <result property="po_id"          column="po_id" />  
        <result property="dtl_po_id"          column="dtl_po_id" />  
        <result property="dtl_hlr_po_id"          column="dtl_hlr_po_id" />  
    </resultMap>
    
    <select id="selectWoListHLR" parameterType="map" resultMap="resultWoListHLR">
        select *
        from table(pkg_tcash_wo.WoListHLR(#{poId},#{poLine}))
    </select>
    
    <resultMap id="resultWoListHLRDtl" type="id.my.berkah.tcash1.model.ListWoListHLRDtlParam">
        <result property="Block_Map_Description"            column="Block_Map_Description" />
        <result property="Item_Code"        column="Item_Code" />
        <result property="Item_Description"      column="Item_Description"/>  
        <result property="Lot"      column="Lot"/>  
        <result property="Qty"      column="Qty"/>  
        <result property="Block_From"          column="Block_From"/>  
        <result property="Block_To"          column="Block_To"/>  
        <result property="Hlr_Map_Id"          column="Hlr_Map_Id"/>  
        <result property="Item_Loc_Id"          column="Item_Loc_Id" />  
        <result property="is_old"          column="is_old" />  
    </resultMap>
    
    <select id="selectWoListHLRDtl" parameterType="map" resultMap="resultWoListHLRDtl">
        select *
        from table(pkg_tcash_wo.LovHlrMap(#{poId},#{poLine},#{orderType},#{hlrMapId}))
    </select>
    
    <select id="doWoSaveHlr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoSaveHlr 
        (
        #{inPoId,     mode=IN,   jdbcType=NUMERIC},
        #{inPoLine,     mode=IN,   jdbcType=NUMERIC},
        #{inPoLineId,     mode=IN,   jdbcType=NUMERIC},
        #{inItemLocId,     mode=IN,   jdbcType=NUMERIC},
        #{inHlrMapId,     mode=IN,   jdbcType=NUMERIC},
        #{inOrderType,     mode=IN,   jdbcType=NUMERIC},
        #{inQty,        mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoDeleteHlr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoDeleteHLR 
        (
        #{inPoId,     mode=IN,   jdbcType=NUMERIC},
        #{inOrderType,     mode=IN,   jdbcType=NUMERIC},
        #{inDtlHlrPoId,     mode=IN,   jdbcType=NUMERIC},
        #{inPoQty,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultWoListAllocateNumberingTemp" type="id.my.berkah.tcash1.model.ListWoListAllocateNumberingTempParam">
        <result property="Item_Detail_Id"            column="Item_Detail_Id" />
        <result property="Storage_Id"        column="Storage_Id" />
        <result property="Store_Status"      column="Store_Status"/>  
        <result property="Block_From"      column="Block_From"/>  
        <result property="Block_To"      column="Block_To"/>  
        <result property="Item_Id"          column="Item_Id"/>  
        <result property="Item_Loc_Id"          column="Item_Loc_Id"/>  
        <result property="Session_Id"          column="Session_Id"/>  
        <result property="Messages"          column="Messages" />  
        <result property="hlr_map_desc"          column="hlr_map_desc" />  
        <result property="qty"          column="qty" />  
    </resultMap>
    
    <select id="selectWoListAllocateNumberingTemp" parameterType="map" resultMap="resultWoListAllocateNumberingTemp">
        select * from( 
        select rownum recno,t.* from ( 
        select *
        from table(pkg_tcash_wo.WoListAllocateNBRTemp(#{inItemLocId},#{inHlrMapId},#{inUserId}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <select id="selectWoListAllocateINVTemp" parameterType="map" resultMap="resultWoListAllocateNumberingTemp">
        select * from( 
        select rownum recno,t.* from ( 
        select *
        from table(pkg_tcash_wo.WoListAllocateINVTemp(#{inItemLocId},#{inHlrMapId},#{inUserId}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <resultMap id="resultCountListAllocate" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountAllocateNBR" parameterType="map" resultMap="resultCountListAllocate">
        Select COUNT(1) RecCount from table(pkg_tcash_wo.WoListAllocateNBRTemp(#{inItemLocId},#{inHlrMapId},#{inUserId}))
    </select>
    
     <select id="getCountAllocateINV" parameterType="map" resultMap="resultCountListAllocate">
        Select COUNT(1) RecCount from table(pkg_tcash_wo.WoListAllocateINVTemp(#{inItemLocId},#{inHlrMapId},#{inUserId}))
    </select>
    
    <select id="doWoAllocateNBRTemp" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoAllocateNBRTemp 
        (
        #{inItemLocId,     mode=IN,   jdbcType=NUMERIC},
        #{inHlrMapId,     mode=IN,   jdbcType=NUMERIC},
        #{inUserId,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoAllocateINVTemp" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoAllocateINVTemp 
        (
        #{inItemLocId,     mode=IN,   jdbcType=NUMERIC},
        #{inHlrMapId,     mode=IN,   jdbcType=NUMERIC},
        #{inUserId,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoAllocateNBR" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoSelectAllocateNBR
        (
        #{inPoId,     mode=IN,   jdbcType=NUMERIC},
        #{inPoLine,     mode=IN,   jdbcType=NUMERIC},
        #{inItemLocId,     mode=IN,   jdbcType=NUMERIC},
        #{inDtlHlrPoId,     mode=IN,   jdbcType=NUMERIC},
        #{inHlrMapId,     mode=IN,   jdbcType=NUMERIC},
        #{inRangeQty,     mode=IN,   jdbcType=NUMERIC},
        #{inRangeFrom,     mode=IN,   jdbcType=VARCHAR},
        #{inRangeTo,     mode=IN,   jdbcType=VARCHAR},
        #{inStoreStatus,     mode=IN,   jdbcType=NUMERIC},
        #{inTempQty,     mode=IN,   jdbcType=NUMERIC},
        #{inTempFrom,     mode=IN,   jdbcType=VARCHAR},
        #{inTempTo,     mode=IN,   jdbcType=VARCHAR},
        #{inOrderQty,     mode=IN,   jdbcType=NUMERIC},
        #{outTotQty,     mode=OUT,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoCreateLineDetail" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoCreateLineDetail
        (
        #{inPoId,     mode=IN,   jdbcType=NUMERIC},
        #{inPoLineId,     mode=IN,   jdbcType=NUMERIC},
        #{inDtlPoId,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultWoListAllocateNBR" type="id.my.berkah.tcash1.model.ListWoListAllocateNBRParam">
        <result property="po_id"                column="po_id" />
        <result property="position_number"      column="position_number" />
        <result property="seq_id"               column="seq_id"/>  
        <result property="serial_no"            column="serial_no"/>  
        <result property="match_seq"            column="match_seq"/>  
        <result property="store_status"         column="store_status"/>  
        <result property="created_period"       column="created_period"/>  
    </resultMap>
    
    <select id="selectWoListAllocateNBR" parameterType="map" resultMap="resultWoListAllocateNBR">
        select * from( 
        select rownum recno,t.* from ( 
        select * from table(pkg_tcash_wo.WoListAllocateNBR(#{poId},#{poLine}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <resultMap id="resultCountListAllocateNBR" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountAllocateNBRDtl" parameterType="map" resultMap="resultCountListAllocateNBR">
        Select COUNT(1) RecCount from table(pkg_tcash_wo.WoListAllocateNBR(#{poId},#{poLine}))
    </select>
    
    <resultMap id="resultWoListAllocateINV" type="id.my.berkah.tcash1.model.ListWoListAllocateINVParam">
        <result property="allocation_id"            column="allocation_id" />
        <result property="created_period"        column="created_period" />
        <result property="dtl_po_id"      column="dtl_po_id"/>  
        <result property="item_detail_id"      column="item_detail_id"/>  
        <result property="item_id"      column="item_id"/>  
        <result property="item_loc_id"          column="item_loc_id"/>  
        <result property="lot_id"          column="lot_id"/>  
        <result property="qty"          column="qty"/>  
        <result property="range_from"          column="range_from"/>  
        <result property="range_to"          column="range_to"/>  
        <result property="wh_id"          column="wh_id"/>  
        <result property="wh_loc_id"          column="wh_loc_id"/>  
    </resultMap>
    
    <select id="selectWoListAllocateINV" parameterType="map" resultMap="resultWoListAllocateINV">
        select * from( 
        select rownum recno,t.* from ( 
        select * from table(pkg_tcash_wo.WoListAllocateINV(#{inDtlPoId},#{inItemLocId}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <resultMap id="resultCountListAllocateINV" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountAllocateINVDtl" parameterType="map" resultMap="resultCountListAllocateINV">
        Select COUNT(1) RecCount from table(pkg_tcash_wo.WoListAllocateINV(#{inDtlPoId},#{inItemLocId}))
    </select>
    
    <select id="doWoValidateStatus" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoValidateStatus 
        (
        #{inPoId,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoSelectAllocationNBRDtl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoSelectAllocationNBRDtl
        (
        #{inDtlHlrPoId,     mode=IN,   jdbcType=NUMERIC},
        #{inRangeFrom,     mode=IN,   jdbcType=VARCHAR},
        #{inRangeTo,     mode=IN,   jdbcType=VARCHAR},
        #{inRangeQty,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoUpdateDtl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoUpdateDtl
        (
        #{inPoId,     mode=IN,   jdbcType=NUMERIC},
        #{inPoLineId,     mode=IN,   jdbcType=NUMERIC},
        #{inPoLine,     mode=IN,   jdbcType=NUMERIC},
        #{inItemId,     mode=IN,   jdbcType=NUMERIC},
        #{inItemCode,     mode=IN,   jdbcType=VARCHAR},
        #{inItemPrice,     mode=IN,   jdbcType=NUMERIC},
        #{inContractId,     mode=IN,   jdbcType=NUMERIC},
        #{inContractDtlId,     mode=IN,   jdbcType=NUMERIC},
        #{inReqId,     mode=IN,   jdbcType=NUMERIC},
        #{inPctDisc,     mode=IN,   jdbcType=NUMERIC},
        #{inAmtDisc,     mode=IN,   jdbcType=NUMERIC},
        #{inReqLine,     mode=IN,   jdbcType=VARCHAR},
        #{inOrderQty,     mode=IN,   jdbcType=NUMERIC},
        #{inExpiredDate,     mode=IN,   jdbcType=VARCHAR},
        #{inUserId,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoDeleteDtl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoDeleteDtl
        (
        #{inPoLineId,     mode=IN,   jdbcType=NUMERIC},
        #{poLine,     mode=IN,   jdbcType=NUMERIC},
        #{inContractId,     mode=IN,   jdbcType=NUMERIC},
        #{inContractDtlId,     mode=IN,   jdbcType=NUMERIC},
        #{inReqId,     mode=IN,   jdbcType=NUMERIC},
        #{inReqLine,     mode=IN,   jdbcType=VARCHAR},
        #{inOrderQty,     mode=IN,   jdbcType=NUMERIC},
        #{inUserId,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoSelectAllocationINV" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoSelectAllocateInv
        (
        #{inPoId,     mode=IN,   jdbcType=NUMERIC},
        #{inPoLine,     mode=IN,   jdbcType=NUMERIC},
        #{inPoLineId,     mode=IN,   jdbcType=NUMERIC},
        #{inDtlPoId,     mode=IN,   jdbcType=NUMERIC},
        #{inItemLocId,     mode=IN,   jdbcType=NUMERIC},
        #{inStoreStatus,     mode=IN,   jdbcType=NUMERIC},
        #{inRangeFrom,     mode=IN,   jdbcType=VARCHAR},
        #{inRangeTo,     mode=IN,   jdbcType=VARCHAR},
        #{inRangeQty,     mode=IN,   jdbcType=NUMERIC},
        #{inSessionId,     mode=IN,   jdbcType=NUMERIC},
        #{inDtlHlrPoId,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoUnSelectAllocationINV" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoUnSelectAllocateInv
        (
        #{inPoId,     mode=IN,   jdbcType=NUMERIC},
        #{inPoLine,     mode=IN,   jdbcType=NUMERIC},
        #{inPoLineId,     mode=IN,   jdbcType=NUMERIC}, 
        #{inDtlPoId,     mode=IN,   jdbcType=NUMERIC},
        #{inDtlHlrPoId,     mode=IN,   jdbcType=NUMERIC},
        #{inItemLocId,     mode=IN,   jdbcType=NUMERIC},
        #{inStoreStatus,     mode=IN,   jdbcType=NUMERIC},
        #{inRangeFrom,     mode=IN,   jdbcType=VARCHAR},
        #{inRangeTo,     mode=IN,   jdbcType=VARCHAR},
        #{inRangeQty,     mode=IN,   jdbcType=NUMERIC},
        #{inSessionId,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoUnSelectAllocateNBR" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoUnSelectAllocateNBR
        (
        #{inPoId,     mode=IN,   jdbcType=NUMERIC},
        #{inPoLine,     mode=IN,   jdbcType=NUMERIC},
        #{inPosNum,     mode=IN,   jdbcType=NUMERIC},
        #{inDtlHlrPoId,     mode=IN,   jdbcType=NUMERIC},
        #{inRangeFrom,     mode=IN,   jdbcType=VARCHAR},
        #{inRangeTo,     mode=IN,   jdbcType=VARCHAR},
        #{inRangeQty,     mode=IN,   jdbcType=NUMERIC},
        #{inItemLocId,     mode=IN,   jdbcType=NUMERIC},
        #{outTotQty,     mode=OUT,  jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoReleased" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoReleased
        (
        #{inPoId,     mode=IN,   jdbcType=NUMERIC},
        #{inWoStatus,     mode=IN,   jdbcType=NUMERIC},
        #{inBuId,     mode=IN,   jdbcType=NUMERIC},
        #{inUserId,     mode=IN,   jdbcType=NUMERIC},
        #{inResponId,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoSubmit" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoApprove
        (
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inWoStatus,   mode=IN,   jdbcType=NUMERIC},
        #{inUserId,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoCancel" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoCancel
        (
        #{inPoId,     mode=IN,      jdbcType=NUMERIC},
        #{inWoStatus,     mode=IN,   jdbcType=NUMERIC},
        #{inPoLine,     mode=IN,    jdbcType=NUMERIC},
        #{inPoLineId,     mode=IN,   jdbcType=NUMERIC},
        #{inOrderQty,     mode=IN,   jdbcType=NUMERIC},
        #{inReqId,     mode=IN,     jdbcType=NUMERIC},
        #{inReqLine,     mode=IN,   jdbcType=NUMERIC},
        #{inItemId,     mode=IN,    jdbcType=NUMERIC},
        #{inContractId,     mode=IN,   jdbcType=NUMERIC},
        #{inContractDtlId,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoCancelCommit" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoCancelCommit
        (
        #{inPoId,     mode=IN,      jdbcType=NUMERIC},
        #{inUserId,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoCancelnew" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoCancelNew
        (
        #{inPoId,       mode=IN,      jdbcType=NUMERIC},
        #{inUserId,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoSetArtWork" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoSetArtWork
        (
        #{inPoId,     mode=IN,      jdbcType=NUMERIC},
        #{inPolineId,     mode=IN,   jdbcType=NUMERIC},
        #{inArtId,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=INTEGER},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGenerateSN" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.GenerateSN
        (
        #{inPoId,     mode=IN,      jdbcType=NUMERIC},
        #{inWoStatus,     mode=IN,   jdbcType=NUMERIC},
        #{outError,     mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,  mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultWoListSN" type="id.my.berkah.tcash1.model.ListWoListSNParam">
        <result property="po_line"            column="po_line" />
        <result property="item_id"        column="item_id" />
        <result property="item_code"      column="item_code"/>  
        <result property="item_description"      column="item_description"/>  
        <result property="supplier_code"      column="supplier_code"/>  
        <result property="supplier_description"          column="supplier_description"/>  
        <result property="sn_last_from"          column="sn_last_from"/>  
        <result property="sn_last_to"          column="sn_last_to"/>  
        <result property="qty"          column="qty"/>  
        <result property="denom"          column="denom"/>  
        <result property="hrn_error_code"          column="hrn_error_code"/>  
        <result property="hrn_error_txt"          column="hrn_error_txt"/>  
    </resultMap>
    
    <select id="selectWoListSN" parameterType="map" resultMap="resultWoListSN">
        select po_line,
        item_id,
        item_code,
        item_description,
        supplier_code,
        supplier_description,
        sn_last_from,
        sn_last_to,
        qty,
        denom,hrn_error_code,hrn_error_txt from table(pkg_tcash_wo.WoListSN(#{poId}))
    </select>
    
    <select id="getGetSnInvQty" parameterType="map" statementType="CALLABLE">
        {call pkg_tcash_wo.GetSnInvQty
        (
        #{InPoId,       mode=IN,    jdbcType=NUMERIC},
        #{InPoLine,     mode=IN,    jdbcType=NUMERIC},
        #{OutSnInvQty,   mode=OUT,    jdbcType=NUMERIC},
        #{OutOrderQty,   mode=OUT,    jdbcType=NUMERIC}
        )
        }
    </select>
    
    <!--GoodDelivery-->
    
    <resultMap id="resultGdListHdr"       type="id.my.berkah.tcash1.model.GdListHdrParam" >
        <result column="supp_delivery_id"      property="suppdeliveryid"       />
        <result column="po_id"                 property="poid"      />
        <result column="supplier_id"           property="supplierid"      />
        <result column="supplier_number"       property="suppliernumber"      />
        <result column="supplier_name"         property="suppliername"          />
        <result column="supp_delivery_date"    property="suppdeliverydate"          />
        <result column="site_id"               property="siteid"          />
        <result column="site_code"             property="sitecode" />
        <result column="site_name"             property="sitename" />
        <result column="bu_id"                 property="buid" />
        <result column="bu_code"               property="bucode" />
        <result column="bu_description"        property="budescription" />
        <result column="wh_code"               property="whcode" />
        <result column="wh_description"        property="whdescription" />
        <result column="wh_id"                 property="whid" />
        <result column="supp_delivery_status"            property="suppdeliverystatus" />
        <result column="supp_delivery_status_desc"       property="suppdeliverystatusdesc" />
        <result column="supp_delivery_remark"            property="suppdeliveryremark" />
        <result column="created_date"                    property="createddate" />
        <result column="created_by"                      property="createdby" />
        <result column="created_by_name"                 property="createdbyname" />
        <result column="modified_date"                   property="modifieddate" />
        <result column="modified_by"                     property="modifiedby" />
        <result column="modified_by_name"                property="modifiedbyname" />
        <result column="approved_date"                   property="approveddate" />
       <result column="approved_by"                      property="approvedby" />
       <result column="approved_by_name"                 property="approvedbyname" />
       <result column="canceled_date"                    property="canceleddate" />
       <result column="canceled_by"                      property="canceledby" />
       <result column="canceled_by_name"                 property="canceledbyname" />
       <result column="purchase_order"                   property="purchaseorder" />
       <result column="supp_delivery_no"                 property="suppdeliveryno" />
       <result column="est_time_arrive"                  property="esttimearrive" />
       <result column="est_time_arrive_to"               property="esttimearriveto" />
       <result column="line_remark"                      property="lineremark" />
       <result column="forwarding_agent"                 property="forwardingagent" />
       <result column="agent_name"                       property="agentname" />
       <result column="submitted_date"                   property="submitteddate" />
       <result column="submitted_by"                     property="submittedby" />
    </resultMap>
    
     <select id="getGdListHdr" parameterType="map" resultMap="resultGdListHdr">
        select * from( 
        select rownum recno,t.* from ( SELECT    
         *
        FROM   table (pkg_tcash_gd.GdListHdr(#{InSuppDeliveryId},
         #{inPoNo},
         #{inGdNo},
         #{inStartDate},
         #{inEndDate},
         #{inStatus},
         #{InUserId},
         #{InResponId}
         ))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
     <select id="selectGdListHdr" parameterType="map" resultMap="resultGdListHdr">
        SELECT    *
        FROM   table (pkg_tcash_gd.GdListHdr('','','','','','',#{InUserId},
         #{InResponId})) where  supp_delivery_id=#{suppdeliveryid}
    </select>
    
     <resultMap id="resultCountGdListHdr" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountGdListHdr" parameterType="map" resultMap="resultCountGdListHdr">
        Select COUNT(1) RecCount FROM   table (pkg_tcash_gd.GdListHdr(#{InSuppDeliveryId},
         #{inPoNo},
         #{inGdNo},
         #{inStartDate},
         #{inEndDate},
         #{inStatus},
         #{InUserId},
         #{InResponId}
        )
        )
    </select>
    
    
     
    <select id="doGdSaveHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdSaveHdr
        (
        #{inAction,             mode=IN,   jdbcType=VARCHAR},
        #{inSuppDeveryId,       mode=IN,   jdbcType=NUMERIC},
        #{inSuppDeliverDate,    mode=IN,   jdbcType=VARCHAR},
        #{inBuId,               mode=IN,   jdbcType=NUMERIC},
        #{inSupplierId,         mode=IN,   jdbcType=NUMERIC},
        #{inSiteId,             mode=IN,   jdbcType=NUMERIC},
        #{inPoId,               mode=IN,   jdbcType=NUMERIC},
        #{inDeliverDate,        mode=IN,   jdbcType=VARCHAR},
        #{inWhId,               mode=IN,   jdbcType=NUMERIC},
        #{inForwardAgent,       mode=IN,   jdbcType=VARCHAR},
        #{inArrivedDateFrom ,   mode=IN,   jdbcType=VARCHAR},
        #{inArrivedDateTo,      mode=IN,   jdbcType=VARCHAR},
        #{inStatus,             mode=IN,   jdbcType=NUMERIC},
        #{inRemark,             mode=IN,   jdbcType=VARCHAR},
        #{inUserId,             mode=IN,   jdbcType=NUMERIC},
        #{outSuppDeliverId,     mode=OUT,  jdbcType=NUMERIC},
        #{outError,             mode=OUT,  jdbcType=INTEGER},
        #{outMessages,          mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultGdListPoItem" type="id.my.berkah.tcash1.model.ListGdItemParam">
        <result property="po_id"            column="po_id" />
        <result property="position_num"        column="position_num" />
        <result property="item_id"      column="item_id"/>  
        <result property="item_code"      column="item_code"/>  
        <result property="item_description"      column="item_description"/>  
        <result property="order_date"          column="order_date"/>  
        <result property="po_price_unit"          column="po_price_unit"/>  
        <result property="ordered_quantity"          column="ordered_quantity"/>  
        <result property="warehouse_id"          column="warehouse_id"/>  
        <result property="delivered_qty"          column="delivered_qty"/>  
        <result property="qty"          column="qty"/>  
        <result property="wh_id"          column="wh_id"/>  
        <result property="city_id"          column="city_id"/>  
        <result property="city_desc"          column="city_desc"/>  
        <result property="regional_id"          column="regional_id"/>  
        <result property="regional_description"          column="regional_description"/>  
        <result property="bu_id"          column="bu_id"/>  
        <result property="hlr_map_id"          column="hlr_map_id"/>  
        <result property="range_from"          column="range_from"/>  
        <result property="Range_to"          column="Range_to"/>  
    </resultMap>
    
    <select id="selectGdListPoItem" parameterType="map" resultMap="resultGdListPoItem">
        select * from table(pkg_tcash_gd.GdListSelectPO(#{poId},#{whId},#{gdId}))
    </select>
    
    <select id="doGdSaveDtl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdSaveDtl
        (
        #{inAction,        mode=IN,   jdbcType=VARCHAR},
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inPoId,          mode=IN,   jdbcType=NUMERIC},
        #{inPositionNum,   mode=IN,   jdbcType=NUMERIC},
        #{inLineNo,        mode=IN,   jdbcType=NUMERIC},
        #{inItemid,        mode=IN,   jdbcType=NUMERIC},
        #{inQty,           mode=IN,   jdbcType=NUMERIC},
        #{inOrderedQty,    mode=IN,   jdbcType=NUMERIC},
        #{inWhId,          mode=IN,   jdbcType=NUMERIC},
        #{inCityid,        mode=IN,   jdbcType=NUMERIC},
        #{inHlrMapId,      mode=IN,   jdbcType=NUMERIC},
        #{inOrderDate,     mode=IN,   jdbcType=VARCHAR},
        #{inLineRemark,    mode=IN,   jdbcType=VARCHAR},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{inPoPriceUnit,   mode=IN,   jdbcType=VARCHAR},
        #{inGdDtlId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultGdListDtl" type="id.my.berkah.tcash1.model.ListGdDtl">
        <result property="supp_delivery_id"            column="supp_delivery_id" />
        <result property="line_no"        column="line_no" />
        <result property="item_id"      column="item_id"/>  
        <result property="item_code"      column="item_code"/>  
        <result property="item_description"      column="item_description"/>  
        <result property="po_id"          column="po_id"/>  
        <result property="po_line_ref"          column="po_line_ref"/>  
        <result property="ordered_quantity"          column="ordered_quantity"/>  
        <result property="qty"          column="qty"/>  
        <result property="qty_received"          column="qty_received"/>  
        <result property="line_remark"          column="line_remark"/>  
        <result property="line_status"          column="line_status"/>  
        <result property="created_date"          column="created_date"/>  
        <result property="created_by"          column="created_by"/>  
        <result property="modified_date"          column="modified_date"/>  
        <result property="modified_by"          column="modified_by"/>  
        <result property="id"          column="id"/>  
        <result property="city_id"          column="city_id"/>  
        <result property="city_name"          column="city_name"/>  
        <result property="wh_id"          column="wh_id"/>  
        <result property="order_date"          column="order_date"/>  
        <result property="po_price_unit"          column="po_price_unit"/>  
        <result property="back_order"          column="back_order"/>  
        <result property="delivered"          column="delivered"/>  
        <result property="regional_id"          column="regional_id"/>  
        <result property="regional_description"          column="regional_description"/>  
        <result property="ttl_dqty"          column="ttl_dqty"/>  
        <result property="hlr_map_id"          column="hlr_map_id"/>  
    </resultMap>
    
    <select id="selectGdListDtl" parameterType="map" resultMap="resultGdListDtl">
        select * from table(pkg_tcash_gd.GdListDtl(#{gdId}))
    </select>
    
    <select id="doGdSelectPOValidate" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdSelectPOValidate
        (
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inStatus,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdSubmitDtlValidateLine" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdSubmitDtlValidateLine
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inLineNo,        mode=IN,   jdbcType=NUMERIC},
        #{inItemId,        mode=IN,   jdbcType=NUMERIC},
        #{inItemCode,       mode=IN,   jdbcType=VARCHAR},
        #{inDeliverQty,    mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdSubmitValidate" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdSubmitValidate
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{inResponId,        mode=IN,   jdbcType=NUMERIC},
        #{inBuId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhId,           mode=IN,   jdbcType=NUMERIC},
        #{inStatus,         mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdSubmit" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdSubmit
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{InUserId,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdApprove" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdApprove
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{inResponId,        mode=IN,   jdbcType=NUMERIC},
        #{inBuId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhId,           mode=IN,   jdbcType=NUMERIC},
        #{inStatus,         mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdCancelValidate" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdCancelValidate
        (
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{inResponId,        mode=IN,   jdbcType=NUMERIC},
        #{inBuId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhId,           mode=IN,   jdbcType=NUMERIC},
        #{inStatus,         mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdCancelValidateLine" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdCancelValidateLine
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,      mode=IN,   jdbcType=NUMERIC},
        #{inPoId,        mode=IN,   jdbcType=NUMERIC},
        #{inPositionNum,   mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdCancel" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdCancel
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdCancelLine" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdCancelLine
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,        mode=IN,   jdbcType=NUMERIC},
        #{inPoId,        mode=IN,   jdbcType=NUMERIC},
        #{inItemId,        mode=IN,   jdbcType=NUMERIC},
        #{inPoLineRef,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdDeleteDtl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdDeleteDtl
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inGdDtlId,        mode=IN,   jdbcType=NUMERIC},
        #{inLineNo,        mode=IN,   jdbcType=NUMERIC},
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inPositionNum,   mode=IN,   jdbcType=NUMERIC},
        #{inQty,            mode=IN,   jdbcType=NUMERIC},
        #{inItemId,        mode=IN,   jdbcType=NUMERIC},
        #{inDeliveryQty,   mode=IN,   jdbcType=NUMERIC},
        #{inUserId,   mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdDtlQtyValidate" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdDtlQtyValidate
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inPoLine,   mode=IN,   jdbcType=NUMERIC},
        #{inLineNo,   mode=IN,   jdbcType=NUMERIC},
        #{inItemId,        mode=IN,   jdbcType=NUMERIC},
        #{inOrderQty,   mode=IN,   jdbcType=NUMERIC},
        #{inQty,            mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdSelectRange" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdSelectRange
        (
        #{inSelectMode,       mode=IN,   jdbcType=VARCHAR},
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inPositionNum,   mode=IN,   jdbcType=NUMERIC},
        #{inGdHdrId,        mode=IN,   jdbcType=NUMERIC},
        #{inLineNo,        mode=IN,   jdbcType=NUMERIC},
        #{inRangeFrom,      mode=IN,   jdbcType=VARCHAR},
        #{inRangeTo,        mode=IN,   jdbcType=VARCHAR},
        #{inRangeQty,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdSumSelectQty" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdSumSelectQty
        (
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inPoLineRef,      mode=IN,   jdbcType=NUMERIC},
        #{inGdHdrId,        mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,        mode=IN,   jdbcType=NUMERIC},
        #{outSummary,        mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdSelectRangeOk" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdSelectRangeOk
        (
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inPoLineRef,      mode=IN,   jdbcType=NUMERIC},
        #{inQty,            mode=IN,   jdbcType=NUMERIC},
        #{inTotalQty,        mode=IN,   jdbcType=NUMERIC},
        #{outQty,           mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdEditSN" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gd.GdEditSN
        (
        #{inItemId,        mode=IN,   jdbcType=NUMERIC},
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inPoLineRef,      mode=IN,   jdbcType=NUMERIC},
        #{inStatus,            mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultGdListEditSN" type="id.my.berkah.tcash1.model.ListGdEditSNParam">
        <result property="po_id"                column="po_id" />
        <result property="position_num"         column="position_num" />
        <result property="serial_key_id"        column="serial_key_id"/>  
        <result property="range_from"           column="range_from"/>  
        <result property="range_to"             column="range_to"/>  
        <result property="supp_delivery_id"     column="supp_delivery_id"/>  
        <result property="supp_delivery_line"   column="supp_delivery_line"/>  
        <result property="receive_id"           column="receive_id"/>  
        <result property="receive_line"         column="receive_line"/>  
        <result property="created_period"       column="created_period"/>  
        <result property="qty"                  column="qty"/>  
    </resultMap>
    
    <select id="selectGdListEditSN" parameterType="map" resultMap="resultGdListEditSN">
        select * from( 
        select rownum recno,t.* from ( 
        select * from table(pkg_tcash_gd.GdListEditSN(#{inList},#{poId},#{poLineRef},#{supDelivid},#{lineNo}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <resultMap id="resultCountListGdListEditSn" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountEditSNHdr" parameterType="map" resultMap="resultCountListGdListEditSn">
        Select COUNT(1) RecCount 
        from table(pkg_tcash_gd.GdListEditSN(#{inList},#{poId},#{poLineRef},#{supDelivid},#{lineNo}))
    </select>
    
    <resultMap id="resultCountListGdListEditSnRst" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountEditSNRst" parameterType="map" resultMap="resultCountListGdListEditSnRst">
        Select COUNT(1) RecCount 
        from table(pkg_tcash_gd.GdListEditSN(#{inList},#{poId},#{poLineRef},#{supDelivid},#{lineNo}))
    </select>
    
    <!--good Reciept-->
    
    <resultMap id="resultGrListHdr"       type="id.my.berkah.tcash1.model.GrListHdrParam" >
        <result column="receive_id"         property="receive_id"       />
        <result column="receive_no"                 property="receive_no"      />
        <result column="bu_id"              property="bu_id"      />
        <result column="bu_code"            property="bu_code"      />
        <result column="bu_description"         property="bu_description"          />
        <result column="wh_id"              property="wh_id"          />
        <result column="wh_code"               property="wh_code"          />
        <result column="wh_description"             property="wh_description" />
        <result column="wh_loc"             property="wh_loc" />
        <result column="supplier_id"                property="supplier_id" />
        <result column="supplier_number"            property="supplier_number" />
        <result column="supplier_description"       property="supplier_description" />
        <result column="site_id"               property="site_id" />
        <result column="site_code"        property="site_code" />
        <result column="site_description"           property="site_description" />
        <result column="vendor_id"            property="vendor_id" />
        <result column="vendor_site_id"       property="vendor_site_id" />
        <result column="vendor_site"            property="vendor_site" />
        <result column="po_header_id"               property="po_header_id" />
        <result column="po_header_no"               property="po_header_no" />
        <result column="supp_delivery_id"           property="supp_delivery_id" />
        <result column="supp_delivery_no"           property="supp_delivery_no" />
        <result column="receive_status"             property="receive_status" />
        <result column="receive_status_desc"        property="receive_status_desc" />
        <result column="cancel_status"              property="cancel_status" />
       <result column="create_date"                 property="create_date" />
       <result column="create_by"                 property="create_by" />
       <result column="created_by_name"             property="created_by_name" />
       <result column="update_date"                 property="update_date" />
       <result column="update_by"                 property="update_by" />
       <result column="updated_by_name"             property="updated_by_name" />
       <result column="confirmed_date"              property="confirmed_date" />
       <result column="confirmed_by"                property="confirmed_by" />
       <result column="confirmed_by_name"           property="confirmed_by_name" />
       <result column="approved_date"               property="approved_date" />
       <result column="approved_by"                 property="approved_by" />
       <result column="approved_by_name"            property="approved_by_name" />
    </resultMap>
    
     <select id="getGrListHdr" parameterType="map" resultMap="resultGrListHdr">
        select * from( 
        select rownum recno,t.* from ( SELECT *
        FROM   table (pkg_tcash_gr.GrListHdr(#{inReceiveId},
         #{inRcvNo},
         #{inPoNo},
         #{inGdNo},
         #{inStartDate},
         #{inEndDate},
         #{inStatus},
         #{InUserId},
         #{InResponId}
         ))order by RECEIVE_ID desc
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
     <select id="selectGrListHdr" parameterType="map" resultMap="resultGrListHdr">
        SELECT    *
        FROM   table (pkg_tcash_gr.GrListHdr('','','','','','','',#{InUserId},#{InResponId})) where receive_id=#{inReceiveId}
    </select>
    
     <resultMap id="resultCountGrListHdr" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountGrListHdr" parameterType="map" resultMap="resultCountGrListHdr">
        Select COUNT(1) RecCount FROM   table (pkg_tcash_gr.GrListHdr(#{inReceiveId},
         #{inRcvNo},
         #{inPoNo},
         #{inGdNo},
         #{inStartDate},
         #{inEndDate},
         #{inStatus},
         #{InUserId},
         #{InResponId}
        )
        )
    </select>
    
 
    
    <select id="doGrSaveHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrSaveHdr
        (
        #{inAction,        mode=IN,   jdbcType=VARCHAR},
        #{inRcvId,          mode=IN,   jdbcType=NUMERIC},
        #{inPoId,          mode=IN,   jdbcType=NUMERIC},
        #{inPoNo,           mode=IN,   jdbcType=VARCHAR},
        #{inWhId,          mode=IN,   jdbcType=NUMERIC},
        #{inBuId,          mode=IN,   jdbcType=NUMERIC},
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inSupplierId,    mode=IN,   jdbcType=NUMERIC},
        #{inSiteId,          mode=IN,   jdbcType=NUMERIC},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{inStatus,         mode=IN,   jdbcType=NUMERIC},
        #{outReceiveId,    mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrSelectGdValidate" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrSelectGdValidate
        (
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inStatus,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultGrListSelectGD" type="id.my.berkah.tcash1.model.ListGrSelectGDParam">
        <result property="supp_delivery_id"            column="supp_delivery_id" />
        <result property="line_no"              column="line_no" />
        <result property="item_id"              column="item_id"/>  
        <result property="item_code"            column="item_code"/>  
        <result property="item_description"     column="item_description"/>  
        <result property="po_id"                column="po_id"/>  
        <result property="po_line_ref"          column="po_line_ref"/>  
        <result property="ordered_quantity"     column="ordered_quantity"/>  
        <result property="qty"                  column="qty"/>  
        <result property="qty_received"         column="qty_received"/>  
        <result property="line_remark"          column="line_remark"/>  
        <result property="line_status"          column="line_status"/>  
        <result property="created_date"         column="created_date"/>  
        <result property="created_by"           column="created_by"/>  
        <result property="modified_date"        column="modified_date"/>  
        <result property="modified_by"          column="modified_by"/>  
        <result property="hlr_map_id"           column="hlr_map_id"/>  
        <result property="id"                   column="id"/>  
        <result property="city_id"              column="city_id"/>  
        <result property="city_name"            column="city_name"/>  
        <result property="wh_id"                column="wh_id"/>  
        <result property="order_date"           column="order_date"/>  
        <result property="po_price_unit"        column="po_price_unit"/>  
        <result property="back_order"           column="back_order"/>  
        <result property="delivered"            column="delivered"/>  
        <result property="status_input_file"    column="status_input_file"/>  
        <result property="hlr"                  column="hlr"/>  
        <result property="regional_id"          column="regional_id"/>  
        <result property="regional_description" column="regional_description"/>  
        <result property="range_from"           column="range_from"/>  
        <result property="range_to"             column="range_to"/>  
        <result property="Received_qty"         column="Received_qty"/>  
        <result property="outstanding"          column="outstanding"/>  
        <result property="po_line_id"           column="po_line_id"/>  
    </resultMap>
    
    <select id="selectGrListSelectGD" parameterType="map" resultMap="resultGrListSelectGD">
        select * from table(pkg_tcash_gr.GrListSelectGD(#{gdId},#{poId},#{grId}))
    </select>
    
    <select id="doGrSaveDtl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrSaveDtl
        (
        #{inAction,         mode=IN,   jdbcType=VARCHAR},
        #{inReceiveId,      mode=IN,   jdbcType=NUMERIC},
        #{inReceiveLine,    mode=IN,   jdbcType=NUMERIC},
        #{inReceiveDtlId,   mode=IN,   jdbcType=NUMERIC},
        #{inItemId,         mode=IN,   jdbcType=NUMERIC},
        #{inItemCode,       mode=IN,   jdbcType=VARCHAR},
        #{inLotId,          mode=IN,   jdbcType=NUMERIC},
        #{inOrderQty,       mode=IN,   jdbcType=NUMERIC},
        #{inReceiveQty,     mode=IN,   jdbcType=NUMERIC},
        #{inRejectQty,      mode=IN,   jdbcType=NUMERIC},
        #{inUserId,         mode=IN,   jdbcType=NUMERIC},
        #{inHlrMapId,       mode=IN,   jdbcType=NUMERIC},
        #{inApprovedQty,    mode=IN,   jdbcType=NUMERIC},
        #{inLotSize,        mode=IN,   jdbcType=NUMERIC},
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inPoNo,           mode=IN,   jdbcType=VARCHAR},
        #{inPoLineRef,      mode=IN,   jdbcType=NUMERIC},
        #{inPoLineId,       mode=IN,   jdbcType=NUMERIC},
        #{inUOM,            mode=IN,   jdbcType=VARCHAR},
        #{inBalanceQty,     mode=IN,   jdbcType=NUMERIC},
        #{inDeliverQty,     mode=IN,   jdbcType=NUMERIC},
        #{inAcceptQty,      mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,       mode=IN,   jdbcType=NUMERIC},
        #{inGdHdrId,        mode=IN,   jdbcType=NUMERIC},
        #{inWhId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhLocId,        mode=IN,   jdbcType=NUMERIC},
        #{inRegionalId,     mode=IN,   jdbcType=NUMERIC},
        #{outError,         mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,      mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultGrListDtl" type="id.my.berkah.tcash1.model.ListresultGrListDtlParam">
        <result property="receive_id"            column="receive_id" />
        <result property="receive_line"        column="receive_line" />
        <result property="po_header_id"      column="po_header_id"/>  
        <result property="po_header_no"      column="po_header_no"/>  
        <result property="po_line_id"      column="po_line_id"/>  
        <result property="supp_delivery_id"          column="supp_delivery_id"/>  
        <result property="supp_delivery_line"          column="supp_delivery_line"/>  
        <result property="item_id"          column="item_id"/>  
        <result property="item_code"          column="item_code"/>  
        <result property="item_description"          column="item_description"/>  
        <result property="city_id"          column="city_id"/>  
        <result property="city_code"          column="city_code"/>  
        <result property="location"          column="location"/>  
        <result property="hlr_map_id"          column="hlr_map_id"/>  
        <result property="hlr"          column="hlr"/>  
        <result property="unit_of_measure"          column="unit_of_measure"/>  
        <result property="qty_order"          column="qty_order"/>  
        <result property="qty_delivered"          column="qty_delivered"/>  
        <result property="qty_deliver"          column="qty_deliver"/>  
        <result property="qty_receive"          column="qty_receive"/>  
        <result property="qty_accept"          column="qty_accept"/>  
        <result property="qty_approved"          column="qty_approved"/>  
        <result property="qty_reject"          column="qty_reject"/>  
        <result property="qty_balance"          column="qty_balance"/>  
        <result property="qty_cancel"          column="qty_cancel"/>  
        <result property="lot_id"          column="lot_id"/>  
        <result property="date_lot"          column="date_lot"/>  
        <result property="expiry_date"          column="expiry_date"/>  
        <result property="po_distribution_id"          column="po_distribution_id"/>  
        <result property="lot_size"          column="lot_size"/>  
        <result property="reason_id"          column="reason_id"/>  
        <result property="receive_line_status"          column="receive_line_status"/>  
        <result property="receive_dtl_id"          column="receive_dtl_id"/>  
        <result property="create_by"          column="create_by"/>  
        <result property="create_date"          column="create_date"/>  
        <result property="update_by"          column="update_by"/>  
        <result property="update_date"          column="update_date"/>  
        <result property="wh_loc_id"          column="wh_loc_id"/>  
        <result property="wh_loc_code"          column="wh_loc_code"/>  
        <result property="regional_id"          column="regional_id"/>  
        <result property="regional_description"          column="regional_description"/>  
        <result property="po_line_ref"          column="po_line_ref"/>  
        <result property="qty_ttl_rcv"          column="qty_ttl_rcv"/>  
        <result property="outstanding"          column="outstanding"/>  
    </resultMap>
    
    <select id="selectGrListDtl" parameterType="map" resultMap="resultGrListDtl">
        select * from table(pkg_tcash_gr.GrListDtl(#{rcvId}))
    </select>
    
    <resultMap id="resultGrListEditSN" type="id.my.berkah.tcash1.model.ListGrListEditSNParam">
        <result property="po_id"            column="po_id" />
        <result property="position_num"        column="position_num" />
        <result property="serial_key_id"      column="serial_key_id"/>  
        <result property="range_from"      column="range_from"/>  
        <result property="range_to"      column="range_to"/>  
        <result property="supp_delivery_id"          column="supp_delivery_id"/>  
        <result property="supp_delivery_line"          column="supp_delivery_line"/>  
        <result property="receive_id"          column="receive_id"/>  
        <result property="receive_line"          column="receive_line"/>  
        <result property="created_period"          column="created_period"/>  
        <result property="qty"          column="qty"/>  
    </resultMap>
    
    <select id="selectGrListEditSN" parameterType="map" resultMap="resultGrListEditSN">
        select * from table(pkg_tcash_gr.GrListEditSN(#{inList},#{gdId},#{gdLine},#{rcvId},#{rcvNo}))
    </select>
    
    <select id="doGrSelectRangeValidate" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrSelectRangeValidate
        (
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{inResponId,       mode=IN,   jdbcType=NUMERIC},
        #{inBuId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhId,        mode=IN,   jdbcType=NUMERIC},
        #{inStatus,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrUnSelectRangeValidate" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrUnSelectRangeValidate
        (
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{inResponId,       mode=IN,   jdbcType=NUMERIC},
        #{inBuId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhId,        mode=IN,   jdbcType=NUMERIC},
        #{inStatus,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrSelectRange" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrSelectRange
        (
        #{inSelectMode,       mode=IN,   jdbcType=VARCHAR},
        #{inGdHdrId,           mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,   mode=IN,   jdbcType=NUMERIC},
        #{inReceiveId,        mode=IN,   jdbcType=NUMERIC},
        #{inReceiveLine,        mode=IN,   jdbcType=NUMERIC},
        #{inRangeFrom,      mode=IN,   jdbcType=VARCHAR},
        #{inRangeTo,        mode=IN,   jdbcType=VARCHAR},
        #{inRangeQty,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,         mode=IN,   jdbcType=NUMERIC},        
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrConfirmRcvValidateLine" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrConfirmRcvValidateLine
        (
        #{inReceiveId,       mode=IN,   jdbcType=NUMERIC},
        #{inReceiveLine,        mode=IN,   jdbcType=NUMERIC},
        #{inRcvQty,        mode=IN,   jdbcType=NUMERIC},
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,       mode=IN,   jdbcType=NUMERIC},
        #{inItemId,       mode=IN,   jdbcType=NUMERIC},
        #{inItemCode,       mode=IN,   jdbcType=VARCHAR},
        #{inWhLoc,       mode=IN,   jdbcType=VARCHAR},
        #{inWhLocId,    mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrConfirmReceive" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrConfirmReceive
        (
        #{inRcvId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrConfirmRcvValidate" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrConfirmRcvValidate
        (
        #{inReceiveId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{inResponId,       mode=IN,   jdbcType=NUMERIC},
        #{inBuId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhId,        mode=IN,   jdbcType=NUMERIC},
        #{inStatus,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    <select id="doGrCancelValidate" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrCancelValidate
        (
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{inResponId,       mode=IN,   jdbcType=NUMERIC},
        #{inBuId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhId,        mode=IN,   jdbcType=NUMERIC},
        #{inStatus,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrCancel" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrCancel
        (
        #{inRcvId,         mode=IN,   jdbcType=NUMERIC},
        #{inFlag,          mode=IN,   jdbcType=NUMERIC},
        #{InUserId,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrCancelLine" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrCancelLine
        (
        #{inRcvId,       mode=IN,   jdbcType=NUMERIC},
        #{inRcvLine,       mode=IN,   jdbcType=NUMERIC},
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,       mode=IN,   jdbcType=NUMERIC},
        #{inItemId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrApproveValidate" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrApproveValidate
        (
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{inResponId,       mode=IN,   jdbcType=NUMERIC},
        #{inBuId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhId,        mode=IN,   jdbcType=NUMERIC},
        #{inStatus,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrApproveValidateLine" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrApproveValidateLine
        (
        #{inItemId,        mode=IN,   jdbcType=NUMERIC},
        #{inItemCode,      mode=IN,   jdbcType=VARCHAR},
        #{inReceiveId,     mode=IN,   jdbcType=NUMERIC},
        #{inReceiveLine,   mode=IN,   jdbcType=NUMERIC},
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,      mode=IN,   jdbcType=NUMERIC},
        #{inWhLocCode,     mode=IN,   jdbcType=VARCHAR},
        #{inRcvQty,        mode=IN,   jdbcType=NUMERIC},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    <select id="doGrApprove" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrApprove
        (
        #{inRcvId,       mode=IN,   jdbcType=NUMERIC},
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrUpdateDtlWhLoc" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrUpdateDtlWhLoc
        (
        #{inRcvId,       mode=IN,   jdbcType=NUMERIC},
        #{inRcvLine,       mode=IN,   jdbcType=NUMERIC},
        #{inWhLocId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrDeleteDtl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrDeleteDtl
        (
        #{inReceiveDtlId,       mode=IN,   jdbcType=NUMERIC},
        #{inReceiveQty,       mode=IN,   jdbcType=NUMERIC},
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrSumSelectQty" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrSumSelectQty
        (
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inPoLineRef,      mode=IN,   jdbcType=NUMERIC},
        #{inGrHdrId,        mode=IN,   jdbcType=NUMERIC},
        #{inGrLineNo,        mode=IN,   jdbcType=NUMERIC},
        #{inGdId,        mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,        mode=IN,   jdbcType=NUMERIC},
        #{outSummary,        mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrSetLotSize" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_gr.GrSetLotSize
        (
        #{inRcvId,           mode=IN,   jdbcType=NUMERIC},
        #{inRcvDtlId,      mode=IN,   jdbcType=NUMERIC},
        #{inLotSize,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <!--<select id="doMvInsert" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash.mvInsert
        (
        #{inItemId,         mode=IN,   jdbcType=NUMERIC},
        #{inItemCode,       mode=IN,   jdbcType=VARCHAR},
        #{inItemDesc,       mode=IN,   jdbcType=VARCHAR},
        #{inVoucherCode,    mode=IN,   jdbcType=VARCHAR},
        #{inVoucherDesc,    mode=IN,   jdbcType=VARCHAR},
        #{inUserId,         mode=IN,   jdbcType=NUMERIC},
        #{outId,            mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    <select id="domvUpdate" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash.mvUpdate
        (
        #{inId,             mode=IN,   jdbcType=NUMERIC},
        #{inItemId,         mode=IN,   jdbcType=NUMERIC},
        #{inItemCode,       mode=IN,   jdbcType=VARCHAR},
        #{inItemDesc,       mode=IN,   jdbcType=VARCHAR},
        #{inVoucherCode,    mode=IN,   jdbcType=VARCHAR},
        #{inVoucherDesc,    mode=IN,   jdbcType=VARCHAR},
        #{inUserId,         mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    <select id="domvExpire" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash.mvExpire
        (
        #{inId,             mode=IN,   jdbcType=NUMERIC},
        #{inUserId,         mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    
    <resultMap id="resultMv"       type="id.my.berkah.tcash1.model.MVItemToVoucherParam" >
        <result column="id_map"         property="id_map" />
        <result column="item_id"           property="item_id"   />
        <result column="item_code"         property="item_code" />
        <result column="item_desc"  property="item_desc"  />
        <result column="voucher_type_code" property="voucher_type_code" />
        <result column="voucher_type_desc" property="voucher_type_desc" />
        <result column="created_date"      property="created_date" />
        <result column="created_by"        property="created_by" />
        <result column="updated_date"      property="updated_date" />
        <result column="updated_by"        property="updated_by" />
        <result column="expired_date"      property="expired_date" />
        <result column="expired_by"       property="expired_by" />
    </resultMap>
    
     <select id="getListMvHdr" parameterType="map" resultMap="resultMv">
        select * from( 
        select rownum recno,t.* from ( SELECT *
        FROM   table (pkg_tcash.mvListData(#{inItem},
         #{inVoucher}
         ))order by id_map desc
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
     <select id="selectMvListHdr" parameterType="map" resultMap="resultMv">
        SELECT    *
        FROM   table (pkg_tcash.mvListData('','')) where id_map=#{inId}
    </select>
    
     <resultMap id="resultCountMvHdr" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountMvHdr" parameterType="map" resultMap="resultCountMvHdr">
        Select COUNT(1) RecCount FROM   table (pkg_tcash.mvListData(#{inItem},
         #{inVoucher}
        )
        )
    </select> 
    
    <select id="doArtInsert" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash.ArtInsert
        (
        #{inArtCode,       mode=IN,   jdbcType=VARCHAR},
        #{inArtDesc,       mode=IN,   jdbcType=VARCHAR},
        #{inFileName,       mode=IN,   jdbcType=VARCHAR},
        #{inUserId,         mode=IN,   jdbcType=NUMERIC},
        #{outId,            mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    <select id="doArtUpdate" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash.ArtUpdated
        (
        #{inArtId,         mode=IN,   jdbcType=NUMERIC},
        #{inArtCode,       mode=IN,   jdbcType=VARCHAR},
        #{inArtDesc,       mode=IN,   jdbcType=VARCHAR},
        #{inFileName,       mode=IN,   jdbcType=VARCHAR},
        #{inUserId,         mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    <select id="doArtExpire" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash.ArtExpire
        (
        #{inId,             mode=IN,   jdbcType=NUMERIC},
        #{inUserId,         mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    
    <resultMap id="resultArtList"       type="id.my.berkah.tcash1.model.ArtWorkListParam" >
        <result column="art_id"         property="art_id" />
        <result column="art_code"           property="art_code"   />
        <result column="art_description"         property="art_description" />
        <result column="filename"  property="filename"  />
        <result column="created_date"      property="created_date" />
        <result column="created_by"        property="created_by" />
        <result column="updated_date"      property="updated_date" />
        <result column="updated_by"        property="updated_by" />
        <result column="expired_date"      property="expired_date" />
        <result column="expired_by"       property="expired_by" />
    </resultMap>
    
     <select id="getListArtList" parameterType="map" resultMap="resultArtList">
        select * from( 
        select rownum recno,t.* from ( SELECT *
        FROM   table (pkg_tcash.ArtList(#{inArt}
         ))order by art_id desc
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
     <select id="selectArtListHdr" parameterType="map" resultMap="resultArtList">
        SELECT    *
        FROM   table (pkg_tcash.ArtList('')) where art_id=#{inId}
    </select>
    
     <resultMap id="resultCountArtList" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountArtList" parameterType="map" resultMap="resultCountArtList">
        Select COUNT(1) RecCount FROM   table (pkg_tcash.ArtList(#{inArt}
        )
        )
    </select>-->
    
<!--    <resultMap id="resultWoRcv" type="id.my.berkah.tcash1.model.ListWoRcvParam">
        <result property="order_type"            column="order_type" />
        <result property="warehouse"        column="warehouse" />
        <result property="item_code"      column="item_code"/>  
        <result property="item_description"      column="item_description"/>  
        <result property="item_group"          column="item_group"/>  
        <result property="block_from"          column="block_from"/>  
        <result property="block_to"          column="block_to"/>  
        <result property="ordered_quantity"          column="ordered_quantity" />  
        <result property="qty_receive"              column="qty_receive" />  
        <result property="qty_outstanding"              column="qty_outstanding" />  
        <result property="vendor"      column="vendor"/>  
        <result property="contract"  column="contract"/>  
        <result property="purchase_order"  column="purchase_order"/>  
        <result property="production_date"         column="production_date"/>  
        <result property="receive_no"     column="receive_no"/>  
        <result property="receipt_date"       column="receipt_date"/>
        <result property="expired_date"     column="expired_date"/>  
    </resultMap>
    
    <select id="selectListWoRcv" parameterType="map" resultMap="resultWoRcv">
        select * from( 
        select rownum recno,t.* from ( select *
        from table(pkg_tcash.DsMonitoring1(
        #{contractNo},
        #{poNo},
        #{rcvNo},#{dateFrom},
        #{dateTo}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <select id="selectListWoRcvPrint" parameterType="map" resultMap="resultWoRcv">
        select *
        from table(pkg_tcash.DsMonitoring1(
        #{contractNo},
        #{poNo},
        #{rcvNo},#{dateFrom},
        #{dateTo}))
    </select>
    
    <resultMap id="resultCountWoRcv" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountWoRcv" parameterType="map" resultMap="resultCountWoRcv">
        Select COUNT(1) RecCount FROM   table (pkg_tcash.DsMonitoring1(#{contractNo},
        #{poNo},
        #{rcvNo},#{dateFrom},
        #{dateTo}
        )
        )
    </select>
    
    <resultMap id="resultloadtourp" type="id.my.berkah.tcash1.model.ListloadtourpParam">
        <result property="ido_number"            column="ido_number" />
        <result property="lar_no"            column="lar_no" />
        <result property="block_from"        column="block_from" />
        <result property="block_to"      column="block_to"/>  
        <result property="qty"      column="qty"/>  
        <result property="lar_status"      column="lar_status"/>  
        <result property="date_create_loading"          column="date_create_loading"/>  
        <result property="date_finish_loading"          column="date_finish_loading"/>  
    </resultMap>
    
    <select id="selectListloadtourp" parameterType="map" resultMap="resultloadtourp">
        select * from( 
        select rownum recno,t.* from ( select *
        from table(pkg_tcash.DsMonitoring3(
        #{idoNo},#{dateFrom},
        #{dateTo}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <select id="selectListloadtourpPrint" parameterType="map" resultMap="resultloadtourp">
        select *
        from table(pkg_tcash.DsMonitoring3(
        #{idoNo},#{dateFrom},
        #{dateTo}))
    </select>
    
    <resultMap id="resultCountloadtourp" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountloadtourp" parameterType="map" resultMap="resultCountloadtourp">
        Select COUNT(1) RecCount FROM   table (pkg_tcash.DsMonitoring3(#{idoNo},#{dateFrom},
        #{dateTo}
        )
        )
    </select>
    
    <resultMap id="resultdistdata" type="id.my.berkah.tcash1.model.ListdistdataParam">
        <result property="item_group"            column="item_group" />
        <result property="item_description"        column="item_description" />
        <result property="transaction_type"      column="transaction_type"/>  
        <result property="wo_no"      column="wo_no"/>  
        <result property="ref_no"          column="ref_no"/>  
        <result property="branch"          column="branch"/>  
        <result property="warehouse"          column="warehouse"/>  
        <result property="relation_branch"          column="relation_branch"/>  
        <result property="warehouse_relation"          column="warehouse_relation"/>  
        <result property="transaction_date"          column="transaction_date"/>  
        <result property="qty_out"          column="qty_out"/>  
        <result property="qty_in"          column="qty_in"/>  
    </resultMap>
    
    <select id="selectListdistdata" parameterType="map" resultMap="resultdistdata">
        select * from( 
        select rownum recno,t.* from ( select *
        from table(pkg_tcash.DsMonitoring2(
        #{woNo},#{refNo},#{dateFrom},#{dateTo}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <select id="selectListdistdataPrint" parameterType="map" resultMap="resultdistdata">
        select *
        from table(pkg_tcash.DsMonitoring2(
        #{woNo},#{refNo},#{dateFrom},#{dateTo}))
    </select>
    
    <resultMap id="resultCountdistdata" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountdistdata" parameterType="map" resultMap="resultCountdistdata">
        Select COUNT(1) RecCount FROM   table (pkg_tcash.DsMonitoring2(#{woNo},#{refNo},#{dateFrom},#{dateTo}
        )
        )
    </select>-->
    
    <select id="dowoUploadSNCheck" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_wo.woUploadSNCheck
        (
        #{InUploadId,   mode=IN, jdbcType=NUMERIC},
        #{InPoId,       mode=IN, jdbcType=NUMERIC},
        #{InPoLine,     mode=IN, jdbcType=NUMERIC},
        #{OutError,     mode=OUT, jdbcType=INTEGER},
        #{OutMessages,  mode=OUT, jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="doGetUploadBatch" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_wo.GetUploadBatch
        (
        #{OutBatchId,   mode=OUT, jdbcType=NUMERIC},
        #{OutError,     mode=OUT, jdbcType=INTEGER},
        #{OutMessages,  mode=OUT, jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="dowoUploadPairingSn" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.woUploadPairingSn
        (
        #{inUploadId,       mode=IN,   jdbcType=NUMERIC},
        #{InUploadDtlId,    mode=IN,   jdbcType=NUMERIC},
        #{inFileName,       mode=IN,   jdbcType=VARCHAR},
        #{inSupplierId,     mode=IN,   jdbcType=NUMERIC},
        #{inSupplierCode,   mode=IN,   jdbcType=VARCHAR},
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{InPoLine,         mode=IN,   jdbcType=NUMERIC},
        #{inItemId,         mode=IN,   jdbcType=NUMERIC},
        #{inSn,             mode=IN,   jdbcType=VARCHAR},
        #{inRows,          mode=IN,   jdbcType=NUMERIC},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{InBatchId,        mode=IN,   jdbcType=NUMERIC},
        #{OutUploadId,     mode=OUT,  jdbcType=NUMERIC},
        #{OutUploadDtlId,  mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=INTEGER},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    <select id="dowoUpdateQtyUploadSn" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.woUpdateQtyUploadSn
        (
        #{inUploadId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    <select id="doWOValidateGetSN" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WOValidateGetSN
        (
        #{inSupId,       mode=IN,   jdbcType=NUMERIC},
        #{inSupCode,   mode=IN,   jdbcType=VARCHAR},
        #{inItemId,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoUpdateStatus" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoUpdateStatus
        (
        #{InPoId,          mode=IN,   jdbcType=NUMERIC},
        #{InStatus,        mode=IN,   jdbcType=NUMERIC},
        #{InUserId,        mode=IN,   jdbcType=NUMERIC},
        #{OutError,        mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doWoUpdateStatusUpload" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_wo.WoUpdateStatusUpload
        (
        #{InPoId,          mode=IN,   jdbcType=NUMERIC},
        #{InStatus,        mode=IN,   jdbcType=NUMERIC},
        #{InUserId,        mode=IN,   jdbcType=NUMERIC},
        #{OutError,        mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doIfUpdateStatus" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_if.IfUpdateStatus
        (
        #{InIfId,          mode=IN,   jdbcType=NUMERIC},
        #{InStatus,        mode=IN,   jdbcType=NUMERIC},
        #{InUserId,        mode=IN,   jdbcType=NUMERIC},
        #{OutError,        mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultString" type="String">
        <result column="nextsn"  property="nextsn"  jdbcType="VARCHAR" />
    </resultMap>
    
    <select id="getSNCount" parameterType="map" resultMap="resultString">
        select lpad(to_number(#{sn})+1,Length(#{sn}),'0') nextsn
        from dual
    </select>
    
    <resultMap id="resultPairingWO" type="id.my.berkah.tcash1.model.ListWoPairing">
        <result property="po_id"            column="po_id" />
        <result property="sn_tcash"         column="sn_tcash" />
        <result property="sn_inv"           column="sn_inv" /> 
    </resultMap>
    
    <select id="selectListWOPairing" parameterType="map" resultMap="resultPairingWO">
        select po_id,
        sn_tcash,
        sn_inv
        from table(pkg_tcash_wo.WoListPairing(
        #{woId},
        #{InPoLine}))
    </select>
    
<!--    <select id="" parameterType="map" statementType="CALLABLE">
        {
        (
        )
        }
    </select>-->
    
    <select id="getWoListPairingHDR" parameterType="map" resultType="id.my.berkah.tcash1.model.wolistHDRPAram">
        select 
        po_id,
        upload_id,
        filename
        from table(pkg_tcash_wo.WoListPairingHDR(#{InPoId},#{InPoLine}))
    </select>
    
      
    <resultMap id="resultIFBnd" type="id.my.berkah.tcash1.model.ListIFBndParam">
        <result property="if_id"    column="if_id"/>
        <result property="if_no"    column="if_no"/>
        <result property="if_date"  column="if_date"/>
        <result property="filename" column="filename"/>
        <result property="status"   column="status"/>
        <result property="po_id"    column="po_id"/>
        <result property="purchase_order" column="purchase_order"/>
        <result property="purchase_order_loop" column="purchase_order_loop"/>
        <result property="create_date" column="create_date"/>
        <result property="created_by" column="created_by"/>
        <result property="update_date" column="update_date"/>
        <result property="updated_by" column="updated_by"/>
        <result property="submit_date" column="submit_date"/>
        <result property="submited_by" column="submited_by"/>
        <result property="approve_date" column="approve_date"/>
        <result property="approved_by" column="approved_by"/>
        <result property="cancel_date" column="cancel_date"/>
        <result property="canceled_by" column="canceled_by"/>  
    </resultMap>
    
    <select id="selectListIFBnd" parameterType="map" resultMap="resultIFBnd">
        select * from( 
        select rownum recno,t.* from ( select *
        from table(pkg_tcash_if.IfListHdr(
        #{ifId}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <select id="selectListIFTrcBnd" parameterType="map" resultMap="resultIFBnd">
        select *
        from table(pkg_tcash_if.IfListHdr(
        #{ifId}))
    </select>
    
    <resultMap id="resultCountIFBnd" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountIFBnd" parameterType="map" resultMap="resultCountIFBnd">
        Select COUNT(1) RecCount FROM   table (pkg_tcash_if.IfListHdr(
        #{ifId}))
    </select> 
    
    <resultMap id="resultIFtrc" type="id.my.berkah.tcash1.model.ListIFParamTrc">
        <result property="ifid" column="if_id"/>
        <result property="ifno" column="if_no"/>
        <result property="ifdate" column="if_date"/>
        <result property="filename" column="filename"/>
        <result property="status" column="status"/>
        <result property="poid" column="po_id"/>
        <result property="purchaseorder" column="purchase_order"/>
        <result property="createdate" column="create_date"/>
        <result property="createdby" column="created_by"/>
        <result property="updatedate" column="update_date"/>
        <result property="updatedby" column="updated_by"/>
        <result property="submitdate" column="submit_date"/>
        <result property="submitedby" column="submited_by"/>
        <result property="approvedate" column="approve_date"/>
        <result property="approvedby" column="approved_by"/>
        <result property="canceldate" column="cancel_date"/>
        <result property="canceledby" column="canceled_by"/>  
    </resultMap>
    
   
    <select id="selectListIFTrc" parameterType="map" resultMap="resultIFtrc">
        select *
        from table(pkg_tcash_if.IfListHdr(
        #{InIfId},
        #{InPoId},
        #{InDateFrom},
        #{InDateTo},
        #{InStatus},
        #{InUserId},
        #{InResponId})) 
    </select>
    
     <select id="selectListIF" parameterType="map" resultType="id.my.berkah.tcash1.model.ListIFParam">
        select 
        if_id,
        if_no,
        if_date,
        filename,
        status,
        po_id,
        purchase_order,
        create_date,
        created_by,
        update_date,
        updated_by,
        submit_date,
        submited_by,
        approve_date,
        approved_by,
        cancel_date,
        canceled_by
        from table(pkg_tcash_if.IfListHdr(
        #{InIfId},
        #{InPoId},
        #{InDateFrom},
        #{InDateTo},
        #{InStatus},
        #{InUserId},
        #{InResponId}))
    </select>
    
    
    <resultMap id="resultCountIF" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountIF" parameterType="map" resultMap="resultCountIF">
        Select COUNT(1) RecCount FROM   table (pkg_tcash_if.IfListHdr(
        #{InIfId},
        #{InPoId},
        #{InDateFrom},
        #{InDateTo},
        #{InStatus}))
    </select>
    
    <select id="doIfValidateInsertHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_if.IfValidateInsertHdr
        (
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doIfValidateUpdateHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_if.IfValidateUpdateHdr
        (
        #{inIfId,       mode=IN,   jdbcType=NUMERIC},
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inFileName,       mode=IN,   jdbcType=VARCHAR},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    
    <select id="getIfListDtl" parameterType="map" resultType="id.my.berkah.tcash1.model.IfListDtlParam">
        select * from table(pkg_tcash_if.IfListDtl(#{InPoId},
        #{InUserId},
        #{InResponId})) 
    </select>
    
    <select id="doIfInsertHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_if.IfInsertHdr
        (
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{OutIfId,        mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doIfInsertBndHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_if.IfInsertBndHdr
        (
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{OutIfId,        mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doIfUpdateHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_if.IfUpdateHdr
        (
        #{inIfId,       mode=IN,   jdbcType=NUMERIC},
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inFileName,       mode=IN,   jdbcType=VARCHAR},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultGenIF" type="id.my.berkah.tcash1.model.ListGenIFParam">
        <result property="upload_id" column="upload_id"/>
        <result property="upload_dtl_id" column="upload_dtl_id"/>
        <result property="po_id" column="po_id"/>
        <result property="item_id" column="item_id"/>
        <result property="sn_tcash" column="sn_tcash"/>
        <result property="sn_inv" column="sn_inv"/>
        <result property="uid_code" column="uid_code"/>
        <result property="create_date" column="create_date"/>
        <result property="created_user" column="created_user"/>
        <result property="update_date" column="update_date"/>
        <result property="updated_by" column="updated_by"/> 
    </resultMap>
    
    <select id="selectGenFile" parameterType="map" resultMap="resultGenIF">
        select *
        from table(pkg_tcash_if.IfGenerateFile(
        #{ifId},
        #{InPoLine}))
    </select>
    
    <select id="doIfSubmitHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_if.IfSubmitHdr
        (
        #{inIfId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doIfApproveHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_if.IfApproveHdr
        (
        #{inIfId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doIfCancelHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_if.IfCancelHdr
        (
        #{inIfId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultOF" type="id.my.berkah.tcash1.model.ListOFParam">
        <result property="of_id" column="of_id"/>
        <result property="of_no" column="of_no"/>
        <result property="of_date" column="of_date"/>
        <result property="filename" column="filename"/>
        <result property="status" column="status"/>
        <result property="po_id" column="po_id"/>
        <result property="purchase_order" column="purchase_order"/>
        <result property="create_date" column="create_date"/>
        <result property="created_by" column="created_by"/>
        <result property="update_date" column="update_date"/>
        <result property="updated_by" column="updated_by"/>
        <result property="submit_date" column="submit_date"/>
        <result property="submited_by" column="submited_by"/>
        <result property="approve_date" column="approve_date"/>
        <result property="approved_by" column="approved_by"/>
        <result property="cancel_date" column="cancel_date"/>
        <result property="canceled_by" column="canceled_by"/>  
    </resultMap>
    
    <select id="selectListOF" parameterType="map" resultMap="resultOF">
        select * from( 
        select rownum recno,t.* from ( select *
        from table(pkg_tcash_of.OfListHdr(
        #{ofId},
        #{InUserId},
        #{InResponId}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <select id="getselectListOF" parameterType="map" resultType="id.my.berkah.tcash1.model.ListOFParam">
        select *
        from table(pkg_tcash_of.OfListHdr(#{ofId},
         #{InUserId},
         #{InResponId}))
         <if test="search != null" >
            where of_no LIKE #{search.ofno}
            <if test="search.purchaseorder != null" >
                and purchase_order = #{search.purchaseorder}
            </if>
            <if test="( search.dateStart != null and search.dateTo != null )" >
                and to_date(of_date, 'DD-MM-RRRR') &gt;= to_date(#{search.dateStart}, 'DD-MM-RRRR')
                and to_date(of_date, 'DD-MM-RRRR') &lt;= to_date(#{search.dateTo}, 'DD-MM-RRRR') 
            </if>
             <if test="search.status != null" >
                and status = #{search.status}
            </if>
        </if>
    </select>
    
    <select id="selectListOFTrc" parameterType="map" resultMap="resultOF">
        select *
        from table(pkg_tcash_of.OfListHdr(
        '', #{InUserId},
         #{InResponId})) where of_id = #{ofId}
    </select>
    
    <resultMap id="resultCountOF" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountOF" parameterType="map" resultMap="resultCountOF">
        Select COUNT(1) RecCount FROM   table (pkg_tcash_of.OfListHdr(
        #{ofId}))
    </select>
    
    <select id="doOfValidateInsertHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_of.OfValidateInsertHdr
        (
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doOfValidateUpdateHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_of.OfValidateUpdateHdr
        (
        #{inOfId,       mode=IN,   jdbcType=NUMERIC},
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inFileName,       mode=IN,   jdbcType=VARCHAR},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doOfInsertHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_of.OfInsertHdr
        (
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{OutIfId,        mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doOfUpdateHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_of.OfUpdateHdr
        (
        #{inOfId,       mode=IN,   jdbcType=NUMERIC},
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inFileName,       mode=IN,   jdbcType=VARCHAR},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doOfSubmitHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_of.OfSubmitHdr
        (
        #{inOfId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doOfApproveHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_of.OfApproveHdr
        (
        #{inOfId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="getOfClearDetail" parameterType="map" statementType="CALLABLE">
        {Call pkg_tcash_of.OfClearDetail
        (
        #{InOfId,          mode=IN,   jdbcType=NUMERIC},
        #{InFileName,      mode=IN,   jdbcType=NUMERIC},
        #{OutError,        mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,     mode=OUT,  jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="doOfCancelHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_of.OfCancelHdr
        (
        #{inOfId,           mode=IN,   jdbcType=NUMERIC},
        #{inUserId,         mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doOfInsertLogs" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_of.OfInsertLogs
        (
        #{inOfId,           mode=IN,   jdbcType=NUMERIC},
        #{inOFNumber,       mode=IN,   jdbcType=NUMERIC},
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inSNTCash,       mode=IN,   jdbcType=VARCHAR},
        #{inSNInv,          mode=IN,   jdbcType=VARCHAR},
        #{inUID,            mode=IN,   jdbcType=VARCHAR},
        #{outOfDtlId,      mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doOfInsertDetail" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_of.OfInsertDetail
        (
        #{inOfId,           mode=IN,   jdbcType=NUMERIC},
        #{inOFNumber,       mode=IN,   jdbcType=NUMERIC},
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inSNTCash,       mode=IN,   jdbcType=VARCHAR},
        #{inSNInv,          mode=IN,   jdbcType=VARCHAR},
        #{inUID,            mode=IN,   jdbcType=VARCHAR},
        #{InFileName,       mode=IN,   jdbcType=VARCHAR},
        #{outOfDtlId,      mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doOfValidateFileName" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_of.OfValidateFileName
        (
        #{InPoId,           mode=IN,   jdbcType=NUMERIC},
        #{InFileName,       mode=IN,   jdbcType=NUMERIC},
        #{OutError,        mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultOFDtl" type="id.my.berkah.tcash1.model.ListOFDtlParam">
        <result property="of_dtl_id" column="of_dtl_id"/>
        <result property="of_id" column="of_id"/>
        <result property="of_no" column="of_no"/>
        <result property="sn_tcash" column="sn_tcash"/>
        <result property="sn_inventory" column="sn_inventory"/>
        <result property="uid_code" column="uid_code"/>
        <result property="status" column="status"/>
        <result property="message" column="message"/>
        <result property="filename" column="filename"/>
        <result property="item_code" column="item_code"/>
        <result property="item_desc" column="item_desc"/>
    </resultMap>
    
    <select id="selectListOFDtl" parameterType="map" resultMap="resultOFDtl">
        select * from( 
        select rownum recno,t.* from ( select *
        from table(pkg_tcash_of.OfListDtl(
        #{ofId}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <select id="getselectListOFDtl" parameterType="map" resultType="id.my.berkah.tcash1.model.ListOFDtlParam">
       select 
        of_dtl_id,
        of_id,
        of_no,
        sn_tcash,
        sn_inventory,
        uid_code,
        status,
        message,
        filename,
        item_code,
        item_desc
        from table(pkg_tcash_of.OfListDtl(
        #{ofId},
        #{InPoLine}))
       
    </select>
    
    
    <select id="getOfListSumDtl" parameterType="map" resultType="id.my.berkah.tcash1.model.OfSumParam">
        select * from table(pkg_tcash_of.OfListSumDtl(
        #{ofId}))
    </select>
    
    
    
    <resultMap id="resultCountOFDtl" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountOFDtl" parameterType="map" resultMap="resultCountOFDtl">
        Select COUNT(1) RecCount FROM   table (pkg_tcash_of.OfListDtl(
        #{ofId}))
    </select>
    
    <resultMap id="resultPairing" type="id.my.berkah.tcash1.model.ListPairingParam">
        <result property="pairing_id" column="pairing_id"/>
        <result property="pairing_no" column="pairing_no"/>
        <result property="pairing_date" column="pairing_date"/>
        <result property="wo_type" column="wo_type"/>
        <result property="wo_id" column="wo_id"/>
        <result property="purchase_order" column="purchase_order"/>
        <result property="item_id" column="item_id"/>
        <result property="item_code" column="item_code"/>
        <result property="item_description" column="item_description"/>
        <result property="quantity" column="quantity"/>
        <result property="status" column="status"/>
        <result property="create_date" column="create_date"/>
        <result property="created_by" column="created_by"/>
        <result property="create_period" column="create_period"/>
        <result property="submit_date" column="submit_date"/>
        <result property="submited_by" column="submited_by"/>
        <result property="approve_date" column="approve_date"/>
        <result property="approved_by" column="approved_by"/> 
    </resultMap>
    
    <select id="selectListPairing" parameterType="map" resultMap="resultPairing">
        select * from( 
        select rownum recno,t.* from ( select *
        from table(pkg_tcash_pairing.PairingListHdr(
        #{pairingId}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <select id="selectListPairingTrc" parameterType="map" resultMap="resultPairing">
        select *
        from table(pkg_tcash_pairing.PairingListHdr(
        #{pairingId}))
    </select>
    
    <resultMap id="resultCountPairing" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountPairing" parameterType="map" resultMap="resultCountPairing">
        Select COUNT(1) RecCount FROM   table (pkg_tcash_pairing.PairingListHdr(
        #{pairingId}))
    </select>
    
    <resultMap id="resultPairingDtl" type="id.my.berkah.tcash1.model.ListPairingDTLParam">
        <result property="pairing_dtl_id" column="pairing_dtl_id"/>
        <result property="pairing_ID" column="pairing_ID"/>
        <result property="item_id" column="item_id"/>
        <result property="prod_issue_id" column="prod_issue_id"/>
        <result property="from_sn" column="from_sn"/>
        <result property="to_sn" column="to_sn"/>
        <result property="create_date" column="create_date"/>
        <result property="created_by" column="created_by"/>
    </resultMap>
    
    <select id="selectListPairingDtl" parameterType="map" resultMap="resultOFDtl">
        select * from( 
        select rownum recno,t.* from ( select *
        from table(pkg_tcash_pairing.PairingListDtl(
        #{pairingId}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <resultMap id="resultCountPairingDtl" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountPairingDtl" parameterType="map" resultMap="resultCountPairingDtl">
        Select COUNT(1) RecCount FROM   table (pkg_tcash_pairing.PairingListDtl(
        #{pairingId}))
    </select>
    
      <resultMap id="resultRpListHdr"       type="id.my.berkah.tcash1.model.RpListHdrParam" >
        <result column="bu_id"               property="buid"      />
        <result column="bu_code"             property="bucode"       />
        <result column="bu_description"      property="budescription"      />
        <result column="id"                  property="id"        />
        <result column="requisition_id"      property="requisitionid"         />
        <result column="requisition_number"  property="requisitionnumber"         />
        <result column="requisition_date"    property="requisitiondate"         />
        <result column="processed_date"      property="processeddate"          />
        <result column="processed_by"        property="processedby"          />
        <result column="creation_date"       property="creationdate"          />
        <result column="created_by"          property="createdby"          />
        <result column="cancelled_date"      property="cancelleddate"          />
        <result column="cancelled_by"        property="cancelledby"       />
        <result column="approved_by"         property="approveby"         />
        <result column="approved_date"       property="approvedate"         />
        <result column="requisition_status"  property="requisitionstatus" />
    </resultMap>
  
  
    <select id="getRpListHdr" parameterType="map" resultMap="resultRpListHdr">
        select * from( 
        select rownum recno,t.* from ( SELECT   
        bu_id,
        bu_code,
        bu_description,
        id,
        requisition_id,
        requisition_number,
        requisition_date,
        processed_by,
        processed_date,
        creation_date,
        created_by,
        cancelled_by,
        cancelled_date,
        approved_date,
        approved_by,
        requisition_status
        FROM   table (pkg_tcash_req_prod.RpListHdr(#{InBu},#{InReqNo},#{InReqId},#{InUserId},#{InResponsibilityId}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <select id="getRpListFind" parameterType="map" resultMap="resultRpListHdr">
        select * from( 
        select rownum recno,t.* from ( SELECT    *
        FROM   table (pkg_tcash_req_prod.RpListFind(#{InBu},#{InReqNo},#{InDateFrom},#{InDateTo},#{InStatus},#{InUserId},#{InResponsibilityId}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
    <resultMap id="resultCountRpListFind" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
     <select id="getCountRpListFind" parameterType="map" resultMap="resultCountRpListFind">
        Select COUNT(1) RecCount FROM   table (pkg_tcash_req_prod.RpListFind(#{InBu},#{InReqNo},#{InDateFrom},#{InDateTo},#{InStatus},#{InUserId},#{InResponsibilityId}))
    </select>
    
    <select id="selectRpListHdr" parameterType="map" resultMap="resultRpListHdr">
        SELECT    *
        FROM   table (pkg_tcash_req_prod.RpListHdr('','',#{requisitionid},#{InUserId},#{InResponsibilityId}))
    </select>
    
    <resultMap id="resultCountRpListHdr" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountRpListHdr" parameterType="map" resultMap="resultCountRpListHdr">
        Select COUNT(1) RecCount FROM   table (pkg_tcash_req_prod.RpListHdr(#{InBu},#{InReqNo},#{InReqId},#{InUserId},#{InResponsibilityId})
        )
    </select>
    
     <select id="doRpSaveHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_req_prod.RpSaveHdr
        (
        #{InAction,             mode=IN,   jdbcType=VARCHAR},
        #{InReqId,              mode=IN,   jdbcType=NUMERIC},
        #{InReqStatus,          mode=IN,   jdbcType=NUMERIC},
        #{InBuId,               mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{OutReqId,             mode=OUT,  jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
     <resultMap id="resultLovBU" type="id.my.berkah.tcash1.model.LovBUParam" >
        <result column="bu_id"             property="buid"    />
        <result column="bu_description"    property="budescription"  />
        <result column="bu_code"           property="bucode"  />
    </resultMap>
  
    <select id="getLovBU" parameterType="map" resultMap="resultLovBU">
        SELECT    *
        FROM   table (pkg_tcash_lov.LovBU(#{InBu},
        #{InResponId},
        #{InUserId}))
    </select>
    
     <resultMap id="resultRpListDtl"       type="id.my.berkah.tcash1.model.RpListDtlParam" >
        <result column="requisition_id"      property="requisitionid"      />
        <result column="requisition_dtl_id"  property="requisitiondtlid"       />
        <result column="requisition_line"    property="requisitionline"      />
        <result column="required_date"       property="requireddate"      />
        <result column="position"            property="position"        />
        <result column="item_id"             property="itemid"          />
        <result column="item_code"           property="itemcode"          />
        <result column="item_name"           property="itemname"          />
        <result column="order_unit"          property="orderunit" />
        <result column="order_quantity"      property="orderquantity" />
        <result column="purchase_order_qty"  property="purchaseorderqty" />
        <result column="bu_id"               property="buid" />
        <result column="bu_code"             property="bucode" />
        <result column="bu_description"      property="budescription" />
        <result column="warehouse_id"        property="warehouseid" />
        <result column="warehouse"           property="warehouse" />
        <result column="warehouse_description"  property="warehousedescription" />
        <result column="wh_description"      property="whdescription" />
        <result column="warehouse_code"      property="warehousecode" />
        <result column="regional_id"         property="regionalid" />
        <result column="regional_description"  property="regionaldescription" />
      
    </resultMap>
    
     <select id="getRpListDtl" parameterType="map" resultMap="resultRpListDtl">
        select * from( 
        select rownum recno,t.* from ( SELECT    requisition_id,
         requisition_dtl_id,
         requisition_line,
         required_date,
         position,
         item_id,
         item_code,
         item_name,
         order_unit,
         order_quantity,
         purchase_order_qty,
         bu_id,
         bu_code,
         bu_description,
         warehouse_id,
         warehouse,
         warehouse_description,
         wh_description,
         warehouse_code,
         regional_id,
         regional_description
        FROM   table (pkg_tcash_req_prod.RpListDtl(#{InReqId}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
     <resultMap id="resultCountRpListDtl" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountRpListDtl" parameterType="map" resultMap="resultCountRpListDtl">
        Select COUNT(1) RecCount FROM   table (pkg_tcash_req_prod.RpListDtl(#{InReqId}))
        
    </select>
    
     <select id="doRpSubmit" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_req_prod.RpSubmit
        (
        #{InReqId,             mode=IN,   jdbcType=NUMERIC},
        #{InBuId,              mode=IN,   jdbcType=NUMERIC},
        #{InUserId,            mode=IN,   jdbcType=NUMERIC},
        #{InResponId,          mode=IN,   jdbcType=NUMERIC},
        #{InReqStatus,         mode=IN,   jdbcType=NUMERIC},
        #{OutError,            mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,         mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
     <select id="doRpApproved" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_req_prod.RpApproved
        (
        #{InReqId,             mode=IN,   jdbcType=NUMERIC},
        #{InBuId,              mode=IN,   jdbcType=NUMERIC},
        #{InReqStatus,         mode=IN,   jdbcType=NUMERIC},
        #{InUserId,            mode=IN,   jdbcType=NUMERIC},
        #{OutError,            mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,         mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
     <select id="doRpCancel" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_req_prod.RpCancel
        (
        #{InReqId,             mode=IN,   jdbcType=NUMERIC},
        #{InBuId,              mode=IN,   jdbcType=NUMERIC},
        #{InReqStatus,         mode=IN,   jdbcType=NUMERIC},
        #{InUserId,            mode=IN,   jdbcType=NUMERIC},
        #{OutError,            mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,         mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
     <select id="doRpGetUploadAttr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_req_prod.RpGetUploadAttr
        (
        #{InItemCode,             mode=IN,   jdbcType=VARCHAR},
        #{InBuCode,               mode=IN,   jdbcType=VARCHAR},
        #{InWhCode,               mode=IN,   jdbcType=VARCHAR},
        #{OutItemId,              mode=OUT,  jdbcType=NUMERIC},
        #{OutItemDescription,     mode=OUT,  jdbcType=VARCHAR},
        #{OutUOM,                 mode=OUT,  jdbcType=VARCHAR},
        #{OutBuId,                mode=OUT,  jdbcType=NUMERIC},
        #{OutBuDesc,              mode=OUT,  jdbcType=VARCHAR},
        #{OutWhId,                mode=OUT,  jdbcType=NUMERIC},
        #{OutWhDesc,              mode=OUT,  jdbcType=VARCHAR},
        #{OutError,               mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,            mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultLovItem" type="id.my.berkah.tcash1.model.LovItemParam" >
        <result column="Item_Id"             property="ItemId"    />
        <result column="Item_code"      property="Itemcode"  />
        <result column="Item_Description"            property="ItemDescription"  />
        <result column="Unit"            property="Unit"  />
    </resultMap>
  
    <select id="getLovItem" parameterType="map" resultMap="resultLovItem">
        SELECT    *
        FROM   table (pkg_tcash_lov.LovItem(#{InItem}))
    </select>
    
    <resultMap id="resultLovRegional" type="id.my.berkah.tcash1.model.LovRegionalParam" >
        <result column="regional_id"        property="regionalid"    />
        <result column="regional_code"      property="regionalcode"  />
        <result column="regional_description"            property="regionaldescription"  />
    </resultMap>
  
    <select id="getLovRegional" parameterType="map" resultMap="resultLovRegional">
        SELECT    *
        FROM   table (pkg_tcash_lov.LovRegional(#{InItem}))
    </select>

    <resultMap id="resultLovWh" type="id.my.berkah.tcash1.model.LovWhParam" >
        <result column="wh_id"                     property="whid"    />
        <result column="wh_code"                   property="whcode"  />
        <result column="wh_description"            property="whdescription"  />
    </resultMap>
  
    <select id="getLovWh" parameterType="map" resultMap="resultLovWh">
        SELECT    *
        FROM   table (pkg_tcash_lov.LovWh(#{InWh},#{InBuId},#{InUserId},#{InResponId}))
    </select>
    
        <select id="doRpSaveDtl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_req_prod.RpSaveDtl
        (
        #{InAction,               mode=IN,   jdbcType=VARCHAR},
        #{InReqId,                mode=IN,   jdbcType=NUMERIC},
        #{InReqNo,                mode=IN,   jdbcType=VARCHAR},
        #{InReqStatus,            mode=IN,   jdbcType=NUMERIC},
        #{InPosition,             mode=IN,   jdbcType=NUMERIC},
        #{InItemId,               mode=IN,   jdbcType=NUMERIC},
        #{InItemCode,             mode=IN,   jdbcType=VARCHAR},
        #{InBuId,                 mode=IN,   jdbcType=NUMERIC},
        #{InBuCode,               mode=IN,   jdbcType=VARCHAR},
        #{InWhId,                 mode=IN,   jdbcType=NUMERIC},
        #{InWhCode,               mode=IN,   jdbcType=VARCHAR},
        #{InOrderUnit,            mode=IN,   jdbcType=VARCHAR},
        #{InOrderQty,             mode=IN,   jdbcType=NUMERIC},
        #{InRequiredDate,         mode=IN,   jdbcType=VARCHAR},
        #{InUserId,               mode=IN,   jdbcType=NUMERIC},
        #{OutReqDtlId,            mode=OUT,  jdbcType=NUMERIC},
        #{OutError,               mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,            mode=OUT,  jdbcType=VARCHAR}
        )
        }
    </select>
    
     
     <resultMap id="resultPcListHdr"       type="id.my.berkah.tcash1.model.PcListHdrParam" >
        <result column="contract_id"                property="contractid"      />
        <result column="contract"                   property="contract"       />
        <result column="description"                property="description"      />
        <result column="contract_date"              property="contractdate"      />
        <result column="supplier_id"                property="supplierid"      />
        <result column="supplier"                   property="supplier"        />
        <result column="supplier_name"              property="suppliername"          />
        <result column="terms_of_payment"           property="termsofpayment"          />
        <result column="terms_of_payment_name"      property="termsofpaymentname"          />
        <result column="currency"                   property="currency" />
        <result column="forwarding_agent"           property="forwardingagent" />
        <result column="forwarding_agent_name"      property="forwardingagentname" />
        <result column="contract_status"            property="contractstatus" />
        <result column="supplier_site"              property="suppliersite" />
        <result column="site_id"                    property="siteid" />
        <result column="site_name"                  property="sitename" />
        <result column="contract_map_no"            property="contractmapno" />
        <result column="agreed_quantity"            property="agreedquantity" />
        <result column="terminate_date"             property="terminatedate" />
        <result column="terminate_by"               property="terminateby" />
        <result column="agreed_amount"              property="agreedamount" />
        <result column="created_period"             property="createdperiod" />
        <result column="creation_date"              property="creationdate" />
        <result column="created_by"                 property="createdby" />
        <result column="last_update_date"           property="lastupdatedate" />
        <result column="last_updated_by"            property="lastupdatedby" />
        <result column="effective_date"             property="effectivedate" />
        <result column="expiry_date"                property="expirydate" />
       <result column="contract_status_name"       property="contractstatusname" />
    </resultMap>
    
     <select id="getPcListHdr" parameterType="map" resultMap="resultPcListHdr">
        SELECT  contract_id,
         contract,
         description,
         contract_date,
         supplier_id,
         supplier,
         supplier_name,
         terms_of_payment,
         terms_of_payment_name,
         currency,
         forwarding_agent,
         forwarding_agent_name,
         contract_status,
         supplier_site,
         site_id,
         site_name,
         contract_map_no,
         agreed_quantity,
         terminate_date,
         terminate_by,
         agreed_amount,
         created_period,
         creation_date,
         created_by,
         last_update_date,
         last_updated_by,
         effective_date,
         expiry_date,
         contract_status_name
        FROM   table (pkg_tcash_contract.PcListHdr(#{InSupplier},
         #{InContract},
         #{InDateFrom},
         #{InDateTo},
         #{InStatus}
         ))
    </select>
    
     <select id="selectPcListHdr" parameterType="map" resultMap="resultPcListHdr">
        SELECT    *
        FROM   table (pkg_tcash_contract.PcListHdr('','','','','')) where  contract_id=#{contractid}
    </select>
    
     <resultMap id="resultCountPcListHdr" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountPcListHdr" parameterType="map" resultMap="resultCountPcListHdr">
        Select COUNT(1) RecCount FROM   table (pkg_tcash_contract.PcListHdr(#{InSupplier},
        #{InContract},
        #{InDateFrom},
        #{InDateTo},
        #{InStatus}
        )
        )
    </select>
    
     <select id="doPcSaveHdr" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_contract.PcSaveHdr
        (
        #{InAction,             mode=IN,   jdbcType=VARCHAR},
        #{InContractId,         mode=IN,   jdbcType=NUMERIC},
        #{InDescription,        mode=IN,   jdbcType=VARCHAR},
        #{InSupplierId,         mode=IN,   jdbcType=NUMERIC},
        #{InSupplierCode,       mode=IN,   jdbcType=VARCHAR},
        #{InTop,                mode=IN,   jdbcType=NUMERIC},
        #{InCurrency,           mode=IN,   jdbcType=VARCHAR},
        #{InForwardAgent,       mode=IN,   jdbcType=VARCHAR},
        #{InContractStatus,     mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{InSiteCode,           mode=IN,   jdbcType=VARCHAR},
        #{InSiteId,             mode=IN,   jdbcType=NUMERIC},
        #{InContractMapNo,      mode=IN,   jdbcType=VARCHAR},
        #{InAgreedQty,          mode=IN,   jdbcType=NUMERIC},
        #{InAgreedAmount,       mode=IN,   jdbcType=NUMERIC},
        #{InEffectiveDate,      mode=IN,   jdbcType=VARCHAR},
        #{InExpiredDate,        mode=IN,   jdbcType=VARCHAR},
        #{outContractId,        mode=OUT,  jdbcType=NUMERIC},
        #{outError,             mode=OUT,  jdbcType=INTEGER},
        #{outMessages,          mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    
      <resultMap id="resultPcListDtl"       type="id.my.berkah.tcash1.model.PcListDtlParam" >
        <result column="contract_id"                property="contractid"      />
        <result column="position_number"            property="positionnumber"       />
        <result column="item_id"                    property="itemid"      />
        <result column="item"                       property="item"      />
        <result column="item_description"           property="itemdescription"      />
        <result column="purchase_price_group"       property="purchasepricegroup"      />
        <result column="minimum_quantity"           property="minimumquantity"        />
        <result column="maximum_quantity"           property="maximumquantity"          />
        <result column="purchase_unit"              property="purchaseunit"          />
        <result column="price"                      property="price"          />
        <result column="disc_percentage"            property="discpercentage" />
        <result column="disc_amount"                property="discamount" />
        <result column="purchase_price_unit"        property="purchasepriceunit" />
        <result column="amount"                     property="amount" />
        <result column="contract_dtl_id"            property="contractdtlid" />
    </resultMap>
    
     <select id="getPcListDtl" parameterType="map" resultMap="resultPcListDtl">
        select * from( 
        select rownum recno,t.* from ( SELECT   
         contract_id,
         position_number,
         item_id,
         item,
         item_description,
         purchase_price_group,
         minimum_quantity,
         maximum_quantity,
         purchase_unit,
         price,
         disc_percentage,
         disc_amount,
         purchase_price_unit,
         amount,
         contract_dtl_id
         FROM   table (pkg_tcash_contract.PcListDtl(#{InContractId}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
     <resultMap id="resultCountPcListDtl" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountPcListDtl" parameterType="map" resultMap="resultCountPcListHdr">
        Select COUNT(1) RecCount FROM   table (pkg_tcash_contract.PcListDtl(#{InContractId}
        )
        )
    </select>
    
        <select id="doPcUpdateStatus" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_contract.PcUpdateStatus
        (
        #{InContractId,         mode=IN,   jdbcType=NUMERIC},
        #{InContractStatus,     mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doPcSaveDtl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_contract.PcSaveDtl
        (
        #{InAction,             mode=IN,   jdbcType=VARCHAR},
        #{InContractId,         mode=IN,   jdbcType=NUMERIC},
        #{InContractDtlId,      mode=IN,   jdbcType=NUMERIC},
        #{InItem,               mode=IN,   jdbcType=NUMERIC},
        #{InItemId,             mode=IN,   jdbcType=VARCHAR},
        #{InAgreedQty,          mode=IN,   jdbcType=NUMERIC},
        #{InPurchaseUnit,       mode=IN,   jdbcType=VARCHAR},
        #{InPrice,              mode=IN,   jdbcType=NUMERIC},
        #{InPctDisc,            mode=IN,   jdbcType=NUMERIC},
        #{InAmtDisc,            mode=IN,   jdbcType=NUMERIC},
        #{InMinQty,             mode=IN,   jdbcType=NUMERIC},
        #{InMaxQty,             mode=IN,   jdbcType=NUMERIC},
        #{InUserId,             mode=IN,   jdbcType=NUMERIC},
        #{OutContractDtlId,     mode=OUT,  jdbcType=NUMERIC},
        #{OutError,             mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
     <select id="dopcValidasiHdr" parameterType="Map" statementType="CALLABLE" >
        { CALL pkg_tcash_contract.pcValidasiHdr
        (
        #{InEvent,                mode=IN,   jdbcType=VARCHAR},
        #{InAction,               mode=IN,   jdbcType=VARCHAR},
        #{InContractId,           mode=IN,   jdbcType=NUMERIC},
        #{InDescription,          mode=IN,   jdbcType=VARCHAR},
        #{InSupplierId,           mode=IN,   jdbcType=NUMERIC},
        #{InSupplierCode,         mode=IN,   jdbcType=VARCHAR},
        #{InTop,                  mode=IN,   jdbcType=NUMERIC},
        #{InCurrency,             mode=IN,   jdbcType=VARCHAR},
        #{InForwardAgent,         mode=IN,   jdbcType=VARCHAR},
        #{InContractStatus,       mode=IN,   jdbcType=NUMERIC},
        #{InUserId,               mode=IN,   jdbcType=NUMERIC},
        #{InSiteCode,             mode=IN,   jdbcType=VARCHAR},
        #{InSiteId,               mode=IN,   jdbcType=NUMERIC},
        #{InContractMapNo,        mode=IN,   jdbcType=VARCHAR},
        #{InAgreedQty,            mode=IN,   jdbcType=NUMERIC},
        #{InAgreedAmount,         mode=IN,   jdbcType=NUMERIC},
        #{InEffectiveDate,        mode=IN,   jdbcType=VARCHAR},
        #{InExpiredDate,          mode=IN,   jdbcType=VARCHAR},
        #{OutError,               mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,            mode=OUT,  jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="doPcValidasiDtl" parameterType="Map" statementType="CALLABLE" >
        { CALL pkg_tcash_contract.PcValidasiDtl
        (
        #{InEvent,                mode=IN,   jdbcType=VARCHAR},
        #{InAction,               mode=IN,   jdbcType=VARCHAR},
        #{InContractId,           mode=IN,   jdbcType=NUMERIC},
        #{InContractDtlId,          mode=IN,   jdbcType=NUMERIC},
        #{InItem,                   mode=IN,   jdbcType=VARCHAR},
        #{InItemId,                 mode=IN,   jdbcType=NUMERIC},
        #{InAgreedQty,                  mode=IN,   jdbcType=NUMERIC},
        #{InPurchaseUnit,             mode=IN,   jdbcType=VARCHAR},
        #{InPrice,         mode=IN,   jdbcType=NUMERIC},
        #{InPctDisc,       mode=IN,   jdbcType=NUMERIC},
        #{InAmtDisc,               mode=IN,   jdbcType=NUMERIC},
        #{InMinQty,             mode=IN,   jdbcType=NUMERIC},
        #{InMaxQty,               mode=IN,   jdbcType=NUMERIC},
        #{OutContractDtlId,               mode=OUT,  jdbcType=INTEGER},
        #{OutError,               mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,            mode=OUT,  jdbcType=VARCHAR}
        )
        }
    </select>
    
      <select id="doPcDeleteDtl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_contract.PcDeleteDtl
        (
        #{InContractId,         mode=IN,    jdbcType=NUMERIC},
        #{InContractDtlId,      mode=IN,    jdbcType=NUMERIC},
        #{InUserId ,            mode=IN,    jdbcType=NUMERIC},
        #{OutError,             mode=OUT,   jdbcType=INTEGER},
        #{OutMessages,          mode=OUT,   jdbcType=VARCHAR}
        )
        }
    </select>
    
       <resultMap id="resultLovSupplierPC" type="id.my.berkah.tcash1.model.LovsupParam" >
        <result column="supplier_id"             property="supplierid"    />
        <result column="supplier_number"         property="suppliernumber"  />
        <result column="supplier_name"           property="suppliername"  />
    </resultMap>
  
    <select id="getLovSupplierPC" parameterType="map" resultMap="resultLovSupplierPC">
        SELECT    *
        FROM   table (pkg_tcash_lov.LovSupplierPC(#{InSupplier}))
    </select>
    
       <resultMap id="resultLovSite" type="id.my.berkah.tcash1.model.LovSiteParam" >
        <result column="supplier_id"             property="supplierid"    />
        <result column="supplier_number"         property="suppliernumber"  />
        <result column="supplier_name"           property="suppliername"  />
    </resultMap>
  
    <select id="getLovSite" parameterType="map" resultMap="resultLovSite">
        SELECT    *
        FROM   table (pkg_tcash_lov.LovSite(#{InSupplierId}))
    </select>
     
     
     
    <resultMap id="resultLovForwardAgent"           type="id.my.berkah.tcash1.model.LovForwardAgentParam" >
        <result column="forwarding_agent"             property="forwardingagent"    />
        <result column="description"                  property="description"  />
    </resultMap>
  
    <select id="getLovForwardAgent" parameterType="map" resultMap="resultLovForwardAgent">
        SELECT  * FROM   table (pkg_tcash_lov.LovForwardAgent(#{InAgent}))
    </select>
    
     <select id="doRpDelete" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_req_prod.RpDelete
        (
        #{InReqId,               mode=IN,   jdbcType=NUMERIC},
        #{InReqDtlId,            mode=IN,   jdbcType=NUMERIC},
        #{InStatus,              mode=IN,   jdbcType=NUMERIC},
        #{InUserId,              mode=IN,   jdbcType=NUMERIC},
        #{OutError,              mode=OUT,  jdbcType=INTEGER},
        #{OutMessages,           mode=OUT,  jdbcType=VARCHAR}
        )
        }
    </select>
    
    
    <select id="getListHdrAutoGen"  parameterType="map" resultType="id.my.berkah.tcash1.model.ListHdrAutoGenParam">
        select 
        auto_gen_id,
        auto_gen_no,
        auto_gen_date,
        purchase_order,
        supp_delivery_no,
        receive_no,
        ordered_qty,
        delivered_qty,
        received_qty,
        prod_issue_no,
        wip_rcp_no
        from table(pkg_tcash_auto_gen.ListHdrAutoGen(#{InAutoGenNum},
        #{InDateFrom},
        #{InDateTo}))
    </select>
    
<!--===============================Production Issue====================================================-->
    
     <select id="ListFindHdr" parameterType="map" resultType="id.my.berkah.tcash1.model.ProductionIssued">
        select * from table(
        PKG_TCASH_PROD_ISSUE.ListFindHdr
        (
        #{InProdIssueNo,mode=IN,jdbcType=VARCHAR},
        #{InDateFrom,mode=IN,jdbcType=VARCHAR},
        #{InDateTo,mode=IN,jdbcType=VARCHAR},
        #{InStatus,mode=IN,jdbcType=VARCHAR},
        #{InWoNo,mode=IN,jdbcType=VARCHAR}
        ))
    </select>
    
    <select id="ValidateInsertHdr" parameterType="map" statementType="CALLABLE">
        { CALL PKG_TCASH_PROD_ISSUE.ValidateInsertHdr
        (
        #{InBuId,mode=IN,jdbcType=NUMERIC},
        #{InWoId,mode=IN,jdbcType=NUMERIC},
        #{InWhId,mode=IN,jdbcType=NUMERIC},
        #{InWipWhId,mode=IN,jdbcType=NUMERIC},
        #{InUserId,mode=IN,jdbcType=NUMERIC},
        #{OutError,mode=OUT,jdbcType=NUMERIC},
        #{OutMessages,mode=OUT,jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="InsertHdr" parameterType="map" statementType="CALLABLE">
        { CALL PKG_TCASH_PROD_ISSUE.InsertHdr
        (
        #{InBuId,mode=IN,jdbcType=NUMERIC},
        #{InWoId,mode=IN,jdbcType=NUMERIC},
        #{InWoNo,mode=IN,jdbcType=VARCHAR},
        #{InItemId,mode=IN,jdbcType=NUMERIC},
        #{InWhId,mode=IN,jdbcType=NUMERIC},
        #{InWipWhId,mode=IN,jdbcType=NUMERIC},
        #{InUserId,mode=IN,jdbcType=NUMERIC},
        #{OutProdIssueId,mode=OUT,jdbcType=NUMERIC},
        #{OutError,mode=OUT,jdbcType=NUMERIC},
        #{OutMessages,mode=OUT,jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="ListHdr" parameterType="map" resultType="id.my.berkah.tcash1.model.ProductionIssued">
        select * from table(
        PKG_TCASH_PROD_ISSUE.ListHdr
        (
        #{InProdIssueId,mode=IN,jdbcType=NUMERIC}
        ))
    </select>
    
    <select id="ValidateUpdateHdr" parameterType="map" statementType="CALLABLE">
        { CALL PKG_TCASH_PROD_ISSUE.ValidateUpdateHdr
        (
        #{InBuId,mode=IN,jdbcType=NUMERIC},
        #{InWoId,mode=IN,jdbcType=NUMERIC},
        #{InWhId,mode=IN,jdbcType=NUMERIC},
        #{InWipWhId,mode=IN,jdbcType=NUMERIC},
        #{InUserId,mode=IN,jdbcType=NUMERIC},
        #{OutError,mode=OUT,jdbcType=NUMERIC},
        #{OutMessages,mode=OUT,jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="UpdateHdr" parameterType="map" statementType="CALLABLE">
        { CALL PKG_TCASH_PROD_ISSUE.UpdateHdr
        (
        #{InProdIssueId,mode=IN,jdbcType=NUMERIC},
        #{InBuId,mode=IN,jdbcType=NUMERIC},
        #{InWoId,mode=IN,jdbcType=NUMERIC},
        #{InWoNo,mode=IN,jdbcType=VARCHAR},
        #{InItemId,mode=IN,jdbcType=NUMERIC},
        #{InWhId,mode=IN,jdbcType=NUMERIC},
        #{InWipWhId,mode=IN,jdbcType=NUMERIC},
        #{InUserId,mode=IN,jdbcType=NUMERIC},
        #{OutError,mode=OUT,jdbcType=NUMERIC},
        #{OutMessages,mode=OUT,jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="ValidateInsertDtl" parameterType="map" statementType="CALLABLE">
        { CALL PKG_TCASH_PROD_ISSUE.ValidateInsertDtl
        (
        #{InItemId,mode=IN,jdbcType=NUMERIC},
        #{InUserId,mode=IN,jdbcType=NUMERIC},
        #{OutError,mode=OUT,jdbcType=NUMERIC},
        #{OutMessages,mode=OUT,jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="InsertDtl" parameterType="map" statementType="CALLABLE">
        { CALL PKG_TCASH_PROD_ISSUE.InsertDtl
        (
        #{InProdIssueId,mode=IN,jdbcType=NUMERIC},
        #{InItemId,mode=IN,jdbcType=NUMERIC},
        #{InUserId,mode=IN,jdbcType=NUMERIC},
        #{OutProdIssueDtlId,mode=OUT,jdbcType=NUMERIC},
        #{OutError,mode=OUT,jdbcType=NUMERIC},
        #{OutMessages,mode=OUT,jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="ValidateUpdateDtl" parameterType="map" statementType="CALLABLE">
        { CALL PKG_TCASH_PROD_ISSUE.ValidateUpdateDtl
        (
        #{InProdIssueId,mode=IN,jdbcType=NUMERIC},
        #{InProdIssueDtlId,mode=IN,jdbcType=NUMERIC},
        #{InItemId,mode=IN,jdbcType=NUMERIC},
        #{InUserId,mode=IN,jdbcType=NUMERIC},
        #{OutError,mode=OUT,jdbcType=NUMERIC},
        #{OutMessages,mode=OUT,jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="UpdateDtl" parameterType="map" statementType="CALLABLE">
        { CALL PKG_TCASH_PROD_ISSUE.UpdateDtl
        (
        #{InProdIssueDtlId,mode=IN,jdbcType=NUMERIC},
        #{InItemId,mode=IN,jdbcType=NUMERIC},
        #{InUserId,mode=IN,jdbcType=NUMERIC},
        #{OutError,mode=OUT,jdbcType=NUMERIC},
        #{OutMessages,mode=OUT,jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="ListDtl" parameterType="map" resultType="id.my.berkah.tcash1.model.DtlItmProductionIssue">
        select * from table(
        PKG_TCASH_PROD_ISSUE.ListDtl
        (
        #{InInProdIssueId,mode=IN,jdbcType=NUMERIC}
        ))
    </select>
    
    <select id="ValidateStatus" parameterType="map" statementType="CALLABLE">
        { CALL PKG_TCASH_PROD_ISSUE.ValidateStatus
        (
        #{InProdIssueId,mode=IN,jdbcType=NUMERIC},
        #{InStatus,mode=IN,jdbcType=NUMERIC},
        #{OutError,mode=OUT,jdbcType=NUMERIC},
        #{OutMessages,mode=OUT,jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="UpdateStatusPi" parameterType="map" statementType="CALLABLE">
        { CALL PKG_TCASH_PROD_ISSUE.UpdateStatusPi
        (
        #{InProdIssueId,mode=IN,jdbcType=NUMERIC},
        #{InStatus,mode=IN,jdbcType=NUMERIC},
        #{InUserId,mode=IN,jdbcType=NUMERIC},
        #{OutError,mode=OUT,jdbcType=NUMERIC},
        #{OutMessages,mode=OUT,jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="InsertSelectSnTemp" parameterType="map" statementType="CALLABLE">
        { CALL PKG_TCASH_PROD_ISSUE.InsertSelectSnTemp
        (
        #{InProdIssueDtlId,mode=IN,jdbcType=NUMERIC},
        #{InWoId,mode=IN,jdbcType=NUMERIC},
        #{InWhId,mode=IN,jdbcType=NUMERIC},
        #{InItemId,mode=IN,jdbcType=NUMERIC},
        #{InUserId,mode=IN,jdbcType=NUMERIC},
        #{OutError,mode=OUT,jdbcType=NUMERIC},
        #{OutMessages,mode=OUT,jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="ListSelectSNTemp" parameterType="map" resultType="id.my.berkah.tcash1.model.SelectRange">
        select * from table(
        PKG_TCASH_PROD_ISSUE.ListSelectSNTemp
        (
        #{InProdIssueDtlId,mode=IN,jdbcType=NUMERIC}
        ))
    </select>
    
    <select id="ListInvSelectSN" parameterType="map" resultType="id.my.berkah.tcash1.model.SelectRange">
        select * from table(
        PKG_TCASH_PROD_ISSUE.ListInvSelectSN
        (
        #{InProdIssueDtlId,mode=IN,jdbcType=NUMERIC}
        ))
    </select>
    
    <select id="ValidateSelectSn" parameterType="map" statementType="CALLABLE">
        { CALL PKG_TCASH_PROD_ISSUE.ValidateSelectSn
        (
        #{InItemDtlId,mode=IN,jdbcType=NUMERIC},
        #{OutError,mode=OUT,jdbcType=NUMERIC},
        #{OutMessages,mode=OUT,jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="InvSelectSN" parameterType="map" statementType="CALLABLE">
        { CALL PKG_TCASH_PROD_ISSUE.InvSelectSN
        (
        #{InProdIssueDtlId,mode=IN,jdbcType=NUMERIC},
        #{InItemLocId,mode=IN,jdbcType=NUMERIC},
        #{InBlockFrom,mode=IN,jdbcType=VARCHAR},
        #{InBlockTo,mode=IN,jdbcType=VARCHAR},
        #{InQty,mode=IN,jdbcType=NUMERIC},
        #{InUserId,mode=IN,jdbcType=NUMERIC},        
        #{OutError,mode=OUT,jdbcType=NUMERIC},
        #{OutMessages,mode=OUT,jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="InvUnselectSN" parameterType="map" statementType="CALLABLE">
        { CALL PKG_TCASH_PROD_ISSUE.InvUnselectSN
        (
        #{InProdIssueDtlId,mode=IN,jdbcType=NUMERIC},
        #{InItemLocId,mode=IN,jdbcType=NUMERIC},     
        #{InBlockFrom,mode=IN,jdbcType=VARCHAR},
        #{InBlockTo,mode=IN,jdbcType=VARCHAR},
        #{InQty,mode=IN,jdbcType=NUMERIC},
        #{InUserId,mode=IN,jdbcType=NUMERIC},        
        #{OutError,mode=OUT,jdbcType=NUMERIC},
        #{OutMessages,mode=OUT,jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="AutoInvSelectSN" parameterType="map" statementType="CALLABLE">
        { CALL PKG_TCASH_PROD_ISSUE.AutoInvSelectSN
        (
        #{InPoId,mode=IN,jdbcType=NUMERIC},
        #{InProdIssueDtlId,mode=IN,jdbcType=NUMERIC},
        #{InUserId,mode=IN,jdbcType=NUMERIC},
        #{OutError,mode=OUT,jdbcType=NUMERIC},
        #{OutMessages,mode=OUT,jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="doDeleteListDtl" parameterType="map" statementType="CALLABLE" >
        {CALL PKG_TCASH_PROD_ISSUE.DeleteListDtl
        (
        #{InProdIssueId,    mode=IN, jdbcType=NUMERIC},
        #{InProdIssueDtlId, mode=IN,    jdbcType=NUMERIC},
        #{InStatus,         mode=IN,    jdbcType=NUMERIC},
        #{InUserId,         mode=IN,    jdbcType=NUMERIC},
        #{OutError,         mode=OUT,   jdbcType=INTEGER},
        #{OutMessages,     mode=OUT,   jdbcType=VARCHAR}
        )        
        }
    </select>
    
    
    <select id="doWoCreateRangeSNInv" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_wo.WoCreateRangeSNInv
        (
        #{InPoId,           mode=IN,    jdbcType=NUMERIC},
        #{InPoLine,         mode=IN,    jdbcType=NUMERIC},
        #{OutError,         mode=OUT,   jdbcType=INTEGER},
        #{OutMessages,      mode=OUT,   jdbcType=VARCHAR}
        )
        }
    </select>
    
    
    
   <select id="getBdlListHdr" parameterType="map" resultType="id.my.berkah.tcash1.model.BdlListHdrParam">
    select  of_id,
            of_no,  
            of_date,
            filename,
            status,
            po_id,
            purchase_order,
            create_date, 
            created_by,
            update_date,
            updated_by,
            submit_date,    
            submited_by,
            approve_date,
            approved_by,
            cancel_date,
            canceled_by
          from table (pkg_tcash_bdl.BdlListHdr(#{InOfId}))
      <if test="search != null" >
            where of_no LIKE #{search.ofno}
            <if test="search.purchaseorder != null" >
                and purchase_order = #{search.purchaseorder}
            </if>
              <if test="(search.dateStart != null and search.dateTo != null )" >
                and to_date(of_date, 'DD-MM-RRRR') &gt;= to_date(#{search.dateStart}, 'DD-MM-RRRR')
                and to_date(of_date, 'DD-MM-RRRR') &lt;= to_date(#{search.dateTo}, 'DD-MM-RRRR') 
            </if>
            <if test="search.statusfnd != null" >
                and status = #{search.statusfnd}
            </if>
        </if>
   </select>
   
    <select id="doOfValidateInsertHdrbdl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_bdl.BdlValidateInsertHdr
        (
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=INTEGER},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doOfValidateUpdateHdrbdl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_bdl.BdlValidateUpdateHdr
        (
        #{inIfId,       mode=IN,   jdbcType=NUMERIC},
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inFileName,       mode=IN,   jdbcType=VARCHAR},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=INTEGER},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doOfInsertHdrbdl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_bdl.BdlInsertHdr
        (
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{OutIfId,        mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=INTEGER},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doOfUpdateHdrbdl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_bdl.BdlUpdateHdr
        (
        #{inOfId,       mode=IN,   jdbcType=NUMERIC},
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inFileName,       mode=IN,   jdbcType=VARCHAR},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=INTEGER},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doOfSubmitHdrbdl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_bdl.BdlSubmitHdr
        (
        #{inOfId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doOfApproveHdrbdl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_bdl.BdlApproveHdr
        (
        #{inOfId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doOfCancelHdrbdl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_bdl.BdlCancelHdr
        (
        #{inOfId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doOfInsertDetailbdl" parameterType="map" statementType="CALLABLE">
        { CALL pkg_tcash_bdl.BdlInsertDetail
        (
        #{inOfId,           mode=IN,   jdbcType=NUMERIC},
        #{inOFNumber,       mode=IN,   jdbcType=NUMERIC},
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inSNTCash,       mode=IN,   jdbcType=VARCHAR},
        #{inSNInv,          mode=IN,   jdbcType=VARCHAR},
        #{inUID,            mode=IN,   jdbcType=VARCHAR},
        #{outOfDtlId,      mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="BdlListDtl" parameterType="map" resultType="id.my.berkah.tcash1.model.BdlListDtlParam">
        select
        of_dtl_id,
        of_id,
        of_no,
        sn_tcash,
        sn_inventory,
        uid_code,
        status,
        message from table(pkg_tcash_bdl.BdlListDtl(#{InOfId}))
    </select>
    
    <select id="doGetPathFile" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_wo.GetPathFile
        (
        #{InDir,            mode=IN,        jdbcType=VARCHAR},
        #{OutPath,          mode=OUT,       jdbcType=VARCHAR},
        #{OutFile,          mode=OUT,       jdbcType=VARCHAR},
        #{OutError,         mode=OUT,       jdbcType=INTEGER},
        #{OutMessages,      mode=OUT,       jdbcType=VARCHAR}
        )
        }
    </select>
    
    
    <!--===============================================================================-->
    

    
    <select id="getListAddDtlPairing" parameterType="map" resultType="id.my.berkah.tcash1.model.ListAddDtlPairingParam">
        select item_code,
        item_description,
        sn_from,
        sn_to,
        qty
        from table(pkg_tcash_bundling.ListAddDtlPairing(#{InPoIdTcash},
        #{InPoIdLoop}))
       
    </select>   
    
    <select id ="PairingSnTcashLoop" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_bundling.PairingSnTcashLoop
        (
        #{InPoIdTcash,      mode=IN,        jdbcType=NUMERIC},
        #{InPoIdLoop,       mode=IN,        jdbcType=NUMERIC},
        #{OutError,         mode=OUT,       jdbcType=INTEGER},
        #{OutMessages,      mode=OUT,       jdbcType=VARCHAR}
        )
        }
    </select>

    <select id ="getListHdrBundling" parameterType="map" resultType="id.my.berkah.tcash1.model.ListHdrBundlingParam">
        select
        bundling_id,
        bundling_no,
        bundling_date,
        item_id,
        item_code,
        item_desc,
        Supplier_Id,
        Supplier_code,
        Supplier_name,
        bu_id,
        bu_code,
        bu_desc,
        wh_id,
        wh_code,
        wh_desc,
        wip_id,
        wip_code,
        wip_desc,
        qty,
        status,
        created_date,
        created_by,
        processed_date,
        processed_by,
        approved_date,
        approved_by,
        canceled_date,
        canceled_by,
        updated_date,
        updated_by,
        created_period   
        from table(pkg_tcash_bundling.ListHdr(#{InBundlingId},
        #{InUserId},
        #{InResponId}))
         <if test="search != null" >
            where bundling_no LIKE #{search.bundling_no}
           <if test="(search.dateStart != null and search.dateTo != null )" >
                and to_date(bundling_date, 'DD-MM-RRRR') &gt;= to_date(#{search.dateStart}, 'DD-MM-RRRR')
                and to_date(bundling_date, 'DD-MM-RRRR') &lt;= to_date(#{search.dateTo}, 'DD-MM-RRRR') 
            </if>
             <if test="search.statusId != null" >
                and status = #{search.statusId}
            </if>
        </if>
    </select>
    
    
    <select id="getListDtlBundling" parameterType="map" resultType="id.my.berkah.tcash1.model.ListDtlbundlingParam">
        select 
        bundling_id,
        bundling_dtl_id,
        item_id,
        item_code,
        item_desc,
        qty,
        created_date,
        created_by,
        updated_date,
        updated_by
        from table(pkg_tcash_bundling.ListDtl(#{InBundlingId})) 
    </select>
    
    <select id="doOnInsertHdr" parameterType="map" statementType="CALLABLE">
        { call pkg_tcash_bundling.OnInsertHdr
        (
        #{InBdlHdrId, mode=IN, jdbcType=NUMERIC},
        #{InItemId, mode=IN, jdbcType=NUMERIC},
        #{InItemCode, mode=IN, jdbcType=VARCHAR},
        #{InItemDesc, mode=IN, jdbcType=VARCHAR},
        #{InBuId, mode=IN, jdbcType=NUMERIC},
        #{InBuCode, mode=IN, jdbcType=VARCHAR},
        #{InBuDesc, mode=IN, jdbcType=VARCHAR},
        #{InWipId, mode=IN, jdbcType=NUMERIC},
        #{InWipCode, mode=IN, jdbcType=VARCHAR},
        #{InWipDesc, mode=IN, jdbcType=VARCHAR},
        #{InWhId, mode=IN, jdbcType=NUMERIC},
        #{InWhCode, mode=IN, jdbcType=VARCHAR},
        #{InWhDesc, mode=IN, jdbcType=VARCHAR},
        #{InQty, mode=IN, jdbcType=NUMERIC},
        #{InSupplierId, mode=IN, jdbcType=NUMERIC},
        #{InSupplierCode, mode=IN, jdbcType=VARCHAR},
        #{InSupplierName, mode=IN, jdbcType=VARCHAR},
        #{InUserId, mode=IN, jdbcType=NUMERIC},
        #{OutBdlId, mode=OUT, jdbcType=NUMERIC},
        #{OutError, mode=OUT, jdbcType=INTEGER},
        #{OutMessages, mode=OUT, jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="doDeleteQtyByRegional" parameterType="map" statementType="CALLABLE">
        { call pkg_tcash_bundling.DeleteQtyByRegional
        (
        #{InId, mode=IN, jdbcType=NUMERIC},
        #{OutError, mode=OUT, jdbcType=INTEGER},
        #{OutMessages, mode=OUT, jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="doOnUpdateHdr" parameterType="map" statementType="CALLABLE">
        { call pkg_tcash_bundling.OnUpdateHdr
        (
        #{InBundlingId, mode=IN, jdbcType=NUMERIC},
        #{InItemId,     mode=IN, jdbcType=NUMERIC},
        #{InItemCode,   mode=IN, jdbcType=VARCHAR},
        #{InItemDesc,   mode=IN, jdbcType=VARCHAR},
        #{InQty,        mode=IN, jdbcType=NUMERIC},
        #{InUserId,     mode=IN, jdbcType=NUMERIC},       
        #{InSupplierId, mode=IN, jdbcType=NUMERIC},
        #{InSupplierCode, mode=IN, jdbcType=VARCHAR},
        #{InSupplierName, mode=IN, jdbcType=VARCHAR},
        #{InBuId,       mode=IN, jdbcType=NUMERIC},
        #{InBuCode,     mode=IN, jdbcType=VARCHAR},
        #{InBuDesc,     mode=IN, jdbcType=VARCHAR},
        #{InWipId,      mode=IN, jdbcType=NUMERIC},
        #{InWipCode,    mode=IN, jdbcType=VARCHAR},
        #{InWipDesc,    mode=IN, jdbcType=VARCHAR},
        #{InWhId,       mode=IN, jdbcType=NUMERIC},
        #{InWhCode,     mode=IN, jdbcType=VARCHAR},
        #{InWhDesc,     mode=IN, jdbcType=VARCHAR},
        #{OutError,     mode=OUT, jdbcType=INTEGER},
        #{OutMessages,  mode=OUT, jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="doOnInsertDtl" parameterType="map" statementType="CALLABLE">
        {call pkg_tcash_bundling.OnInsertDtl
        (
        #{InBundlingId, mode=IN, jdbcType=NUMERIC},
        #{InUserId,     mode=IN, jdbcType=NUMERIC},
        #{OutError,     mode=OUT, jdbcType=INTEGER},
        #{OutMessages,  mode=OUT, jdbcType=VARCHAR}
        )
        }
    </select>
    
     <select id="getListSelectSN" parameterType="map" resultType="id.my.berkah.tcash1.model.ListSelectSNPAram">
        select 
        bundling_id,
        bundling_dtl_id,
        item_loc_id,
        item_id,
        range_from,
        range_to,
        qty
        from table(pkg_tcash_bundling.ListSelectSN(#{InMode},#{InBundlingId},#{InItemId},#{InRegionalId})) 
    </select>
    
    
    
    <select id ="dovalidateEditSN" parameterType="map" statementType="CALLABLE">
        {call pkg_tcash_bundling.validateEditSN
        (
        #{InBundlingId, mode=IN, jdbcType=NUMERIC},
        #{InRegionalId, mode=IN, jdbcType=NUMERIC},
        #{InItemId,     mode=IN, jdbcType=NUMERIC},
        #{OutError,     mode=OUT, jdbcType=INTEGER},
        #{OutMessages,  mode=OUT, jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id ="doSetSelectSN" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_bundling.SetSelectSN
        (
        #{InMode,               mode=IN, jdbcType=NUMERIC},
        #{InBundlingId,         mode=IN, jdbcType=NUMERIC},
        #{InItemLocId,          mode=IN, jdbcType=NUMERIC},
        #{InRangeFrom,          mode=IN, jdbcType=NUMERIC},
        #{InRangeTo,            mode=IN, jdbcType=NUMERIC},
        #{InRegionalId,         mode=IN, jdbcType=NUMERIC},
        #{InQty,                mode=IN, jdbcType=NUMERIC},
        #{InUserId,             mode=IN, jdbcType=NUMERIC},
        #{OutError,             mode=OUT, jdbcType=INTEGER},
        #{OutMessages,          mode=OUT, jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="doUpdateStatusHdr" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_bundling.UpdateStatusHdr
        (
        #{InBundlingId,         mode=IN, jdbcType=NUMERIC},
        #{InStatus,             mode=IN, jdbcType=NUMERIC},
        #{InUserId,             mode=IN, jdbcType=NUMERIC},
        #{OutError,             mode=OUT, jdbcType=INTEGER},
        #{OutMessages,          mode=OUT, jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="doCanceled" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_bundling.Canceled
        (
        #{InBundlingId,         mode=IN, jdbcType=NUMERIC},
        #{InUserId,             mode=IN, jdbcType=NUMERIC},
        #{OutError,             mode=OUT, jdbcType=INTEGER},
        #{OutMessages,          mode=OUT, jdbcType=VARCHAR}
        )
        }
    </select>
    
     <select id="doInsertQtyByRegional" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_bundling.InsertQtyByRegional
        (
        #{InBundlingId,         mode=IN, jdbcType=NUMERIC},
        #{InBundlingDtlId,      mode=IN, jdbcType=NUMERIC},
        #{InItemId,             mode=IN, jdbcType=NUMERIC},
        #{InRegionalId,         mode=IN, jdbcType=NUMERIC},
        #{InTresholdQty,        mode=IN, jdbcType=NUMERIC},
        #{InQty,                mode=IN, jdbcType=NUMERIC},
        #{InUserId,             mode=IN, jdbcType=NUMERIC},
        #{OutId,                mode=OUT, jdbcType=NUMERIC},
        #{OutError,             mode=OUT, jdbcType=INTEGER},
        #{OutMessages,          mode=OUT, jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="getListDtlRegional" parameterType="map" resultType="id.my.berkah.tcash1.model.listDtlRegionalParam">
        select 
        id# as id,
        bundling_id,
        bundling_dtl_id,
        item_id,
        regional_id,
        regional_code,
        regional_desc,
        qty,
        treshold_qty,
        created_date,
        created_by,
        updated_date,
        updated_by
        from table(pkg_tcash_bundling.ListDtlRegional(#{InBundlingDtlId}))
    </select>
    
    
    
    <!--Bundling Goods Delivery-->
    
    
<!--     <resultMap id="resultGdListHdr"       type="id.my.berkah.tcash1.model.GdListHdrParam" >
        <result column="supp_delivery_id"      property="suppdeliveryid"       />
        <result column="po_id"                 property="poid"      />
        <result column="supplier_id"           property="supplierid"      />
        <result column="supplier_number"       property="suppliernumber"      />
        <result column="supplier_name"         property="suppliername"          />
        <result column="supp_delivery_date"    property="suppdeliverydate"          />
        <result column="site_id"               property="siteid"          />
        <result column="site_code"             property="sitecode" />
        <result column="site_name"             property="sitename" />
        <result column="bu_id"                 property="buid" />
        <result column="bu_code"               property="bucode" />
        <result column="bu_description"        property="budescription" />
        <result column="wh_code"               property="whcode" />
        <result column="wh_description"        property="whdescription" />
        <result column="wh_id"                 property="whid" />
        <result column="supp_delivery_status"            property="suppdeliverystatus" />
        <result column="supp_delivery_status_desc"       property="suppdeliverystatusdesc" />
        <result column="supp_delivery_remark"            property="suppdeliveryremark" />
        <result column="created_date"                    property="createddate" />
        <result column="created_by"                      property="createdby" />
        <result column="created_by_name"                 property="createdbyname" />
        <result column="modified_date"                   property="modifieddate" />
        <result column="modified_by"                     property="modifiedby" />
        <result column="modified_by_name"                property="modifiedbyname" />
        <result column="approved_date"                   property="approveddate" />
       <result column="approved_by"                      property="approvedby" />
       <result column="approved_by_name"                 property="approvedbyname" />
       <result column="canceled_date"                    property="canceleddate" />
       <result column="canceled_by"                      property="canceledby" />
       <result column="canceled_by_name"                 property="canceledbyname" />
       <result column="purchase_order"                   property="purchaseorder" />
       <result column="supp_delivery_no"                 property="suppdeliveryno" />
       <result column="est_time_arrive"                  property="esttimearrive" />
       <result column="est_time_arrive_to"               property="esttimearriveto" />
       <result column="line_remark"                      property="lineremark" />
       <result column="forwarding_agent"                 property="forwardingagent" />
       <result column="agent_name"                       property="agentname" />
       <result column="status"                           property="status" />
    </resultMap>
    -->
     <select id="getGdListHdrBundling" parameterType="map" resultType="id.my.berkah.tcash1.model.BundlingGDListHDRParam">
       SELECT    
         supp_delivery_id,
         po_id,
         supplier_id,
         supplier_number,
         supplier_name,
         supp_delivery_date,
         site_id,
         site_code,
         site_name,
         bu_id,
         bu_code,
         bu_description,
         wh_code,
         wh_description,
         wh_id,
         supp_delivery_status,
         supp_delivery_status_desc,
         supp_delivery_remark,
         created_date,
         created_by,
         created_by_name,
         modified_date,
         modified_by,
         modified_by_name,
         approved_date,
         approved_by,
         approved_by_name,
         canceled_date,
         canceled_by,
         canceled_by_name,
         bundling_id,
         bundling_no,
         supp_delivery_no,
         est_time_arrive,
         est_time_arrive_to,
         line_remark,
         forwarding_agent,
         agent_name,
         submitted_date,
         submitted_by
         FROM   table (pkg_bundling_gd.GdListHdr(
         #{InBundlingNo},
         #{InGdId},
         #{InGdNo},
         #{InStartDate},
         #{InEndDate},
         #{InStatus},
         #{InUserId},
         #{InResponId}
         ))
    </select>
    
     <select id="selectGdListHdrBundling" parameterType="map" resultType="id.my.berkah.tcash1.model.BundlingGDListHDRParam">
        SELECT    *
        FROM   table (pkg_bundling_gd.GdListHdr('','','','','','', #{InUserId}, #{InResponId})) where  supp_delivery_id=#{suppdeliveryid}
    </select>
    
<!--     <resultMap id="resultCountGdListHdr" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>-->
    
    <select id="getCountGdListHdrBundling" parameterType="map" resultMap="resultCountGdListHdr">
        Select COUNT(1) RecCount FROM   table (pkg_bundling_gd.GdListHdr(#{InSuppDeliveryId},
         #{inPoNo},
         #{inGdNo},
         #{inStartDate},
         #{inEndDate},
         #{inStatus}
        )
        )
    </select>
    
    
     
    <select id="doGdSaveHdrBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdSaveHdr
        (
        #{inAction,             mode=IN,   jdbcType=VARCHAR},
        #{inSuppDeveryId,       mode=IN,   jdbcType=NUMERIC},
        #{inSuppDeliverDate,    mode=IN,   jdbcType=VARCHAR},
        #{inBuId,               mode=IN,   jdbcType=NUMERIC},
        #{inSupplierId,         mode=IN,   jdbcType=NUMERIC},
        #{inSiteId,             mode=IN,   jdbcType=NUMERIC},
        #{InBundlingId,         mode=IN,   jdbcType=NUMERIC},
        #{inDeliverDate,        mode=IN,   jdbcType=VARCHAR},
        #{inWhId,               mode=IN,   jdbcType=NUMERIC},
        #{inForwardAgent,       mode=IN,   jdbcType=VARCHAR},
        #{inArrivedDateFrom ,   mode=IN,   jdbcType=VARCHAR},
        #{inArrivedDateTo,      mode=IN,   jdbcType=VARCHAR},
        #{inStatus,             mode=IN,   jdbcType=NUMERIC},
        #{inRemark,             mode=IN,   jdbcType=VARCHAR},
        #{inUserId,             mode=IN,   jdbcType=NUMERIC},
        #{outSuppDeliverId,     mode=OUT,  jdbcType=NUMERIC},
        #{outError,             mode=OUT,  jdbcType=INTEGER},
        #{outMessages,          mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
<!--    <resultMap id="resultGdListPoItem" type="id.my.berkah.tcash1.model.ListGdItemParam">
        <result property="po_id"            column="po_id" />
        <result property="position_num"        column="position_num" />
        <result property="item_id"      column="item_id"/>  
        <result property="item_code"      column="item_code"/>  
        <result property="item_description"      column="item_description"/>  
        <result property="order_date"          column="order_date"/>  
        <result property="po_price_unit"          column="po_price_unit"/>  
        <result property="ordered_quantity"          column="ordered_quantity"/>  
        <result property="warehouse_id"          column="warehouse_id"/>  
        <result property="delivered_qty"          column="delivered_qty"/>  
        <result property="qty"          column="qty"/>  
        <result property="wh_id"          column="wh_id"/>  
        <result property="city_id"          column="city_id"/>  
        <result property="city_desc"          column="city_desc"/>  
        <result property="regional_id"          column="regional_id"/>  
        <result property="regional_description"          column="regional_description"/>  
        <result property="bu_id"          column="bu_id"/>  
        <result property="hlr_map_id"          column="hlr_map_id"/>  
        <result property="range_from"          column="range_from"/>  
        <result property="Range_to"          column="Range_to"/>  
    </resultMap>-->
    
    <select id="selectGdListPoItemBundling" parameterType="map" resultType="id.my.berkah.tcash1.model.GdListPoItemBundlingParam">
        select bundling_id,
            bundling_no,
            po_id,
            position_number,
            item_id,
            item_code,
            item_description,
            bundling_date,
            ordered_qty,
            total_gd_qty,
            qty,
            warehouse_id,
            wh_id,
            bu_id,
            range_from,
            Range_to from table(pkg_bundling_gd.GdListSelectPO(#{InBuId},#{whId},#{gdId}))
    </select>
    
    <select id="doGdSaveDtlBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdSaveDtl
        (
        #{inAction,        mode=IN,   jdbcType=VARCHAR},
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{InPoId,          mode=IN,   jdbcType=NUMERIC},
        #{inPositionNum,   mode=IN,   jdbcType=NUMERIC},
        #{inLineNo,        mode=IN,   jdbcType=NUMERIC},
        #{inItemid,        mode=IN,   jdbcType=NUMERIC},
        #{inQty,           mode=IN,   jdbcType=NUMERIC},
        #{inOrderedQty,    mode=IN,   jdbcType=NUMERIC},
        #{inWhId,          mode=IN,   jdbcType=NUMERIC},
        #{inCityid,        mode=IN,   jdbcType=NUMERIC},
        #{inHlrMapId,      mode=IN,   jdbcType=NUMERIC},
        #{inOrderDate,     mode=IN,   jdbcType=VARCHAR},
        #{inLineRemark,    mode=IN,   jdbcType=VARCHAR},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{inPoPriceUnit,   mode=IN,   jdbcType=VARCHAR},
        #{inGdDtlId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=INTEGER},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
<!--    <resultMap id="resultGdListDtl" type="id.my.berkah.tcash1.model.ListGdDtl">
        <result property="supp_delivery_id"            column="supp_delivery_id" />
        <result property="line_no"        column="line_no" />
        <result property="item_id"      column="item_id"/>  
        <result property="item_code"      column="item_code"/>  
        <result property="item_description"      column="item_description"/>  
        <result property="po_id"          column="po_id"/>  
        <result property="po_line_ref"          column="po_line_ref"/>  
        <result property="ordered_quantity"          column="ordered_quantity"/>  
        <result property="qty"          column="qty"/>  
        <result property="qty_received"          column="qty_received"/>  
        <result property="line_remark"          column="line_remark"/>  
        <result property="line_status"          column="line_status"/>  
        <result property="created_date"          column="created_date"/>  
        <result property="created_by"          column="created_by"/>  
        <result property="modified_date"          column="modified_date"/>  
        <result property="modified_by"          column="modified_by"/>  
        <result property="id"          column="id"/>  
        <result property="city_id"          column="city_id"/>  
        <result property="city_name"          column="city_name"/>  
        <result property="wh_id"          column="wh_id"/>  
        <result property="order_date"          column="order_date"/>  
        <result property="po_price_unit"          column="po_price_unit"/>  
        <result property="back_order"          column="back_order"/>  
        <result property="delivered"          column="delivered"/>  
        <result property="regional_id"          column="regional_id"/>  
        <result property="regional_description"          column="regional_description"/>  
        <result property="ttl_dqty"          column="ttl_dqty"/>  
        <result property="hlr_map_id"          column="hlr_map_id"/>  
    </resultMap>
    -->
    <select id="selectGdListDtlBundling" parameterType="map" resultType="id.my.berkah.tcash1.model.ListGdDtlBundlingParam">
        select * from table(pkg_bundling_gd.GdListDtl(#{gdId}))
    </select>
    
    <select id="doGdSelectPOValidateBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdSelectPOValidate
        (
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inStatus,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdSubmitDtlValidateLineBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdSubmitDtlValidateLine
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inLineNo,        mode=IN,   jdbcType=NUMERIC},
        #{inItemId,        mode=IN,   jdbcType=NUMERIC},
        #{inItemCode,       mode=IN,   jdbcType=VARCHAR},
        #{inDeliverQty,    mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdSubmitValidateBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdSubmitValidate
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{inResponId,        mode=IN,   jdbcType=NUMERIC},
        #{inBuId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhId,           mode=IN,   jdbcType=NUMERIC},
        #{inStatus,         mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdSubmitBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdSubmit
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{InUserId,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdApproveBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdApprove
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{inResponId,        mode=IN,   jdbcType=NUMERIC},
        #{inBuId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhId,           mode=IN,   jdbcType=NUMERIC},
        #{inStatus,         mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdCancelValidateBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdCancelValidate
        (
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{inResponId,        mode=IN,   jdbcType=NUMERIC},
        #{inBuId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhId,           mode=IN,   jdbcType=NUMERIC},
        #{inStatus,         mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdCancelValidateLineBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdCancelValidateLine
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,      mode=IN,   jdbcType=NUMERIC},
        #{inPoId,        mode=IN,   jdbcType=NUMERIC},
        #{inPositionNum,   mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdCancelBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdCancel
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdCancelLineBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdCancelLine
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,        mode=IN,   jdbcType=NUMERIC},
        #{inPoId,        mode=IN,   jdbcType=NUMERIC},
        #{inItemId,        mode=IN,   jdbcType=NUMERIC},
        #{inPoLineRef,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdDeleteDtlBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdDeleteDtl
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inGdDtlId,       mode=IN,   jdbcType=NUMERIC},
        #{inLineNo,        mode=IN,   jdbcType=NUMERIC},
        #{InBundlingId,    mode=IN,   jdbcType=NUMERIC},
        #{inPositionNum,   mode=IN,   jdbcType=NUMERIC},
        #{inQty,           mode=IN,   jdbcType=NUMERIC},
        #{inItemId,        mode=IN,   jdbcType=NUMERIC},
        #{inDeliveryQty,   mode=IN,   jdbcType=NUMERIC},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=INTEGER},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdDtlQtyValidateBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdDtlQtyValidate
        (
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inPoLine,   mode=IN,   jdbcType=NUMERIC},
        #{inLineNo,   mode=IN,   jdbcType=NUMERIC},
        #{inItemId,        mode=IN,   jdbcType=NUMERIC},
        #{inOrderQty,   mode=IN,   jdbcType=NUMERIC},
        #{inQty,            mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdSelectRangeBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdSelectRange
        (
        #{inSelectMode,       mode=IN,   jdbcType=VARCHAR},
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inPositionNum,   mode=IN,   jdbcType=NUMERIC},
        #{inGdHdrId,        mode=IN,   jdbcType=NUMERIC},
        #{inLineNo,        mode=IN,   jdbcType=NUMERIC},
        #{inRangeFrom,      mode=IN,   jdbcType=VARCHAR},
        #{inRangeTo,        mode=IN,   jdbcType=VARCHAR},
        #{inRangeQty,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdSumSelectQtyBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdSumSelectQty
        (
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inPoLineRef,      mode=IN,   jdbcType=NUMERIC},
        #{inGdHdrId,        mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,        mode=IN,   jdbcType=NUMERIC},
        #{outSummary,        mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdSelectRangeOkBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdSelectRangeOk
        (
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inPoLineRef,      mode=IN,   jdbcType=NUMERIC},
        #{inQty,            mode=IN,   jdbcType=NUMERIC},
        #{inTotalQty,        mode=IN,   jdbcType=NUMERIC},
        #{outQty,           mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGdEditSNBundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gd.GdEditSN
        (
        #{inItemId,        mode=IN,   jdbcType=NUMERIC},
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inPoLineRef,      mode=IN,   jdbcType=NUMERIC},
        #{inStatus,            mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
<!--    <resultMap id="resultGdListEditSNBundling" type="id.my.berkah.tcash1.model.ListGdEditSNParam">
        <result property="po_id"                column="po_id" />
        <result property="position_num"         column="position_num" />
        <result property="serial_key_id"        column="serial_key_id"/>  
        <result property="range_from"           column="range_from"/>  
        <result property="range_to"             column="range_to"/>  
        <result property="supp_delivery_id"     column="supp_delivery_id"/>  
        <result property="supp_delivery_line"   column="supp_delivery_line"/>  
        <result property="receive_id"           column="receive_id"/>  
        <result property="receive_line"         column="receive_line"/>  
        <result property="created_period"       column="created_period"/>  
        <result property="qty"                  column="qty"/>  
    </resultMap>-->
    
    <select id="selectGdListEditSNBundling" parameterType="map" resultType="id.my.berkah.tcash1.model.ListBundlingGdEditSNParam">
        select * from( 
        select rownum recno,t.* from ( 
        select * from table(pkg_bundling_gd.GdListEditSN(#{inList},#{poId},#{poLineRef},#{supDelivid},#{lineNo}))
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    

    <select id="getCountEditSNHdrBundling" parameterType="map" resultMap="resultCountListGdListEditSn">
        Select COUNT(1) RecCount 
        from table(pkg_bundling_gd.GdListEditSN(#{inList},#{poId},#{poLineRef},#{supDelivid},#{lineNo}))
    </select>

    
    <select id="getCountEditSNRstBundling" parameterType="map" resultMap="resultCountListGdListEditSnRst">
        Select COUNT(1) RecCount 
        from table(pkg_bundling_gd.GdListEditSN(#{inList},#{poId},#{poLineRef},#{supDelivid},#{lineNo}))
    </select>
    
    <resultMap id="resultGrListHdrbundling"       type="id.my.berkah.tcash1.model.ListBundlingGRHDR" >
        <result column="receive_id"         property="receive_id"       />
        <result column="receive_no"         property="receive_no"      />
        <result column="bu_id"              property="bu_id"      />
        <result column="bu_code"            property="bu_code"      />
        <result column="bu_description"     property="bu_description"          />
        <result column="wh_id"              property="wh_id"          />
        <result column="wh_code"            property="wh_code"          />
        <result column="wh_description"     property="wh_description" />
        <result column="wh_loc"             property="wh_loc" />
        <result column="supplier_id"        property="supplier_id" />
        <result column="supplier_number"    property="supplier_number" />
        <result column="supplier_description" property="supplier_description" />
        <result column="site_id"              property="site_id" />
        <result column="site_code"            property="site_code" />
        <result column="site_description"     property="site_description" />
        <result column="vendor_id"            property="vendor_id" />
        <result column="vendor_site_id"       property="vendor_site_id" />
        <result column="vendor_site"          property="vendor_site" />
        <result column="po_header_id"         property="po_header_id" />
        <result column="po_header_no"               property="po_header_no" />
        <result column="supp_delivery_id"           property="supp_delivery_id" />
        <result column="supp_delivery_no"           property="supp_delivery_no" />
        <result column="receive_status"             property="receive_status" />
        <result column="receive_status_desc"        property="receive_status_desc" />
        <result column="cancel_status"              property="cancel_status" />
       <result column="create_date"                 property="create_date" />
       <result column="create_by"                 property="create_by" />
       <result column="created_by_name"             property="created_by_name" />
       <result column="update_date"                 property="update_date" />
       <result column="update_by"                 property="update_by" />
       <result column="updated_by_name"             property="updated_by_name" />
       <result column="confirmed_date"              property="confirmed_date" />
       <result column="confirmed_by"                property="confirmed_by" />
       <result column="confirmed_by_name"           property="confirmed_by_name" />
       <result column="approved_date"               property="approved_date" />
       <result column="approved_by"                 property="approved_by" />
       <result column="approved_by_name"            property="approved_by_name" />
       <result column="canceled_date"            property="canceleddate" />
       <result column="canceled_by_name"            property="canceledby" />
    </resultMap>
    
     <select id="getGrListHdrbundling" parameterType="map" resultMap="resultGrListHdrbundling">
        select * from( 
        select rownum recno,t.* from ( SELECT *
        FROM   table (pkg_bundling_gr.GrListHdr(#{inReceiveId},
         #{inRcvNo},
         #{inPoNo},
         #{inGdNo},
         #{inStartDate},
         #{inEndDate},
         #{inStatus},
         #{InUserId},
         #{InResponId}
         ))order by RECEIVE_ID desc
        )t)
        where recno between ((#{pageNumber} - 1) * #{pageSize})+1 and ((#{pageNumber}) * #{pageSize})
    </select>
    
     <select id="selectGrListHdrbundling" parameterType="map" resultMap="resultGrListHdrbundling">
        SELECT    *
        FROM   table (pkg_bundling_gr.GrListHdr('','','','','','','', #{InUserId},#{InResponId})) where receive_id=#{inReceiveId}
    </select>
    
     <resultMap id="resultCountGrListHdrbundling" type="int">
        <result column="RecCount"  property="RecCount"  jdbcType="NUMERIC" />
    </resultMap>
    
    <select id="getCountGrListHdrbundling" parameterType="map" resultMap="resultCountGrListHdrbundling">
        Select COUNT(1) RecCount FROM   table (pkg_bundling_gr.GrListHdr(#{inReceiveId},
         #{inRcvNo},
         #{inPoNo},
         #{inGdNo},
         #{inStartDate},
         #{inEndDate},
         #{inStatus},
         #{InUserId},
         #{InResponId}
        )
        )
    </select>

<select id="doGrSaveHdrbundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrSaveHdr
        (
        #{inAction,        mode=IN,   jdbcType=VARCHAR},
        #{inRcvId,          mode=IN,   jdbcType=NUMERIC},
        #{inPoId,          mode=IN,   jdbcType=NUMERIC},
        #{inPoNo,           mode=IN,   jdbcType=VARCHAR},
        #{inWhId,          mode=IN,   jdbcType=NUMERIC},
        #{inBuId,          mode=IN,   jdbcType=NUMERIC},
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inSupplierId,    mode=IN,   jdbcType=NUMERIC},
        #{inSiteId,          mode=IN,   jdbcType=NUMERIC},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{inStatus,         mode=IN,   jdbcType=NUMERIC},
        #{outReceiveId,    mode=OUT,  jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrSelectGdValidatebundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrSelectGdValidate
        (
        #{inPoId,       mode=IN,   jdbcType=NUMERIC},
        #{inStatus,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultGrListSelectGDbundling" type="id.my.berkah.tcash1.model.ListGrSelectGDParam">
        <result property="supp_delivery_id"            column="id" />
        <result property="line_no"        column="line_no" />
        <result property="item_id"      column="item_id"/>  
        <result property="item_code"      column="item_code"/>  
        <result property="item_description"      column="item_description"/>  
        <result property="po_id"          column="po_id"/>  
        <result property="po_line_ref"          column="po_line_ref"/>  
        <result property="ordered_quantity"          column="ordered_quantity"/>  
        <result property="qty"                      column="qty"/>  
        <result property="outstanding_qty"          column="outstanding_qty"/>  
        <result property="qty_received"          column="qty_received"/>  
        <result property="id"          column="id"/>  
        <!--<result property="back_order"          column="back_order"/>-->  
        <!--<result property="delivered"          column="delivered"/>-->  
        <result property="range_from"          column="range_from"/>  
        <result property="range_to"          column="range_to"/>  
    </resultMap>
    
    <select id="selectGrListSelectGDbundling" parameterType="map" resultMap="resultGrListSelectGDbundling">
        select * from table(pkg_bundling_gr.GrListSelectGD(#{gdId},#{poId},#{grId}))
    </select>
    
    <select id="doGrSaveDtlbundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrSaveDtl
        (
        #{inAction,         mode=IN,   jdbcType=VARCHAR},
        #{inReceiveId,      mode=IN,   jdbcType=NUMERIC},
        #{inReceiveLine,    mode=IN,   jdbcType=NUMERIC},
        #{inReceiveDtlId,   mode=IN,   jdbcType=NUMERIC},
        #{inItemId,         mode=IN,   jdbcType=NUMERIC},
        #{inItemCode,       mode=IN,   jdbcType=VARCHAR},
        #{inLotId,          mode=IN,   jdbcType=NUMERIC},
        #{inOrderQty,       mode=IN,   jdbcType=NUMERIC},
        #{inReceiveQty,     mode=IN,   jdbcType=NUMERIC},
        #{inRejectQty,      mode=IN,   jdbcType=NUMERIC},
        #{inUserId,         mode=IN,   jdbcType=NUMERIC},
        #{inHlrMapId,       mode=IN,   jdbcType=NUMERIC},
        #{inApprovedQty,    mode=IN,   jdbcType=NUMERIC},
        #{inLotSize,        mode=IN,   jdbcType=NUMERIC},
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inPoNo,           mode=IN,   jdbcType=VARCHAR},
        #{inPoLineRef,       mode=IN,   jdbcType=NUMERIC},
        #{inPoLineId,       mode=IN,   jdbcType=NUMERIC},
        #{inUOM,            mode=IN,   jdbcType=VARCHAR},
        #{inBalanceQty,       mode=IN,   jdbcType=NUMERIC},
        #{inDeliverQty,       mode=IN,   jdbcType=NUMERIC},
        #{inAcceptQty,       mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,       mode=IN,   jdbcType=NUMERIC},
        #{inGdHdrId,        mode=IN,   jdbcType=NUMERIC},
        #{inWhId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhLocId,        mode=IN,   jdbcType=NUMERIC},
        #{inRegionalId,        mode=IN,   jdbcType=NUMERIC},
        #{outError,         mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,      mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <resultMap id="resultGrListDtlbundling" type="id.my.berkah.tcash1.model.ListresultGrListDtlParam">
        <result property="receive_id"            column="receive_id" />
        <result property="receive_line"         column="receive_line" />
        <result property="po_header_id"         column="po_header_id"/>  
        <result property="po_header_no"         column="po_header_no"/>
        <result property="po_line_ref"          column="po_line_ref"/>    
        <result property="po_line_id"           column="po_line_id"/>  
        <result property="supp_delivery_id"     column="supp_delivery_id"/>  
        <result property="supp_delivery_line"   column="supp_delivery_line"/>  
        <result property="item_id"              column="item_id"/>  
        <result property="item_code"            column="item_code"/>  
        <result property="item_description"     column="item_description"/>  
        <result property="city_id"              column="city_id"/>  
        <result property="city_code"            column="city_code"/>  
        <result property="location"             column="location"/>  
        <result property="hlr_map_id"           column="hlr_map_id"/>  
        <result property="hlr"                  column="hlr"/>  
        <result property="unit_of_measure"      column="unit_of_measure"/>  
        <result property="qty_order"            column="qty_order"/>  
        <result property="qty_delivered"          column="qty_delivered"/>  
        <result property="qty_deliver"          column="qty_deliver"/>  
        <result property="qty_receive"          column="qty_receive"/>  
        <result property="qty_accept"          column="qty_accept"/>  
        <result property="qty_approved"          column="qty_approved"/>  
        <result property="qty_reject"          column="qty_reject"/>  
        <result property="qty_balance"          column="qty_balance"/>  
        <result property="qty_cancel"          column="qty_cancel"/>  
        <result property="lot_id"          column="lot_id"/>  
        <result property="date_lot"          column="date_lot"/>  
        <result property="expiry_date"          column="expiry_date"/>  
        <result property="po_distribution_id"          column="po_distribution_id"/>  
        <result property="lot_size"          column="lot_size"/>  
        <result property="reason_id"          column="reason_id"/>  
        <result property="receive_line_status"          column="receive_line_status"/>  
        <result property="receive_dtl_id"          column="receive_dtl_id"/>  
        <result property="create_by"          column="create_by"/>  
        <result property="create_date"          column="create_date"/>  
        <result property="update_by"          column="update_by"/>  
        <result property="update_date"          column="update_date"/>  
        <result property="wh_loc_id"          column="wh_loc_id"/>  
        <result property="wh_loc_code"          column="wh_loc_code"/>  
        <result property="regional_id"          column="regional_id"/>  
        <result property="regional_description"          column="regional_description"/>  
        <result property="qty_ttl_rcv"          column="qty_ttl_rcv"/>  
        <result property="outstanding"          column="outstanding"/>  
    </resultMap>
    
    <select id="selectGrListDtlbundling" parameterType="map" resultMap="resultGrListDtlbundling">
        select * from table(pkg_bundling_gr.GrListDtl(#{rcvId}))
    </select>
    
    <resultMap id="resultGrListEditSNbundling" type="id.my.berkah.tcash1.model.ListGrListEditSNParam">
        <result property="po_id"                column="po_id" />
        <result property="position_num"                 column="position_num" />
        <result property="serial_key_id"            column="serial_key_id"/>  
        <result property="range_from"               column="range_from"/>  
        <result property="range_to"                 column="range_to"/>  
        <result property="supp_delivery_id"          column="supp_delivery_id"/>  
        <result property="supp_delivery_line"          column="supp_delivery_line"/>  
        <result property="receive_id"               column="receive_id"/>  
        <result property="receive_line"             column="receive_line"/>  
        <result property="created_period"          column="created_period"/>  
        <result property="qty"                      column="qty"/>  
    </resultMap>
    
    <select id="selectGrListEditSNbundling" parameterType="map" resultMap="resultGrListEditSNbundling">
        select * from table(pkg_bundling_gr.GrListEditSN(#{inList},#{gdId},#{gdLine},#{rcvId},#{rcvNo}))
    </select>
    
    <select id="doGrSelectRangeValidatebundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrSelectRangeValidate
        (
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{inResponId,       mode=IN,   jdbcType=NUMERIC},
        #{inBuId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhId,        mode=IN,   jdbcType=NUMERIC},
        #{inStatus,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrUnSelectRangeValidatebundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrUnSelectRangeValidate
        (
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{inResponId,       mode=IN,   jdbcType=NUMERIC},
        #{inBuId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhId,        mode=IN,   jdbcType=NUMERIC},
        #{inStatus,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrSelectRangebundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrSelectRange
        (
        #{inSelectMode,       mode=IN,   jdbcType=VARCHAR},
        #{inGdHdrId,           mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,   mode=IN,   jdbcType=NUMERIC},
        #{inReceiveId,        mode=IN,   jdbcType=NUMERIC},
        #{inReceiveLine,        mode=IN,   jdbcType=NUMERIC},
        #{inRangeFrom,      mode=IN,   jdbcType=VARCHAR},
        #{inRangeTo,        mode=IN,   jdbcType=VARCHAR},
        #{inRangeQty,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrConfirmRcvValidateLinebundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrConfirmRcvValidateLine
        (
        #{inReceiveId,       mode=IN,   jdbcType=NUMERIC},
        #{inReceiveLine,        mode=IN,   jdbcType=NUMERIC},
        #{inRcvQty,        mode=IN,   jdbcType=NUMERIC},
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,       mode=IN,   jdbcType=NUMERIC},
        #{inItemId,       mode=IN,   jdbcType=NUMERIC},
        #{inItemCode,       mode=IN,   jdbcType=VARCHAR},
        #{inWhLoc,       mode=IN,   jdbcType=VARCHAR},
        #{inWhLocId,    mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrConfirmReceivebundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrConfirmReceive
        (
        #{inRcvId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrConfirmRcvValidatebundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrConfirmRcvValidate
        (
        #{inReceiveId,       mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{inResponId,       mode=IN,   jdbcType=NUMERIC},
        #{inBuId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhId,        mode=IN,   jdbcType=NUMERIC},
        #{inStatus,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    <select id="doGrCancelValidatebundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrCancelValidate
        (
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{inResponId,       mode=IN,   jdbcType=NUMERIC},
        #{inBuId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhId,        mode=IN,   jdbcType=NUMERIC},
        #{inStatus,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrCancelbundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrCancel
        (
        #{inRcvId,       mode=IN,   jdbcType=NUMERIC},
        #{inFlag,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrCancelLinebundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrCancelLine
        (
        #{inRcvId,       mode=IN,   jdbcType=NUMERIC},
        #{inRcvLine,       mode=IN,   jdbcType=NUMERIC},
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,       mode=IN,   jdbcType=NUMERIC},
        #{inItemId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrApproveValidatebundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrApproveValidate
        (
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{inResponId,       mode=IN,   jdbcType=NUMERIC},
        #{inBuId,           mode=IN,   jdbcType=NUMERIC},
        #{inWhId,        mode=IN,   jdbcType=NUMERIC},
        #{inStatus,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrApproveValidateLinebundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrApproveValidateLine
        (
        #{inItemId,       mode=IN,   jdbcType=NUMERIC},
        #{inItemCode,       mode=IN,   jdbcType=VARCHAR},
        #{inReceiveId,       mode=IN,   jdbcType=NUMERIC},
        #{inReceiveLine,        mode=IN,   jdbcType=NUMERIC},
        #{inGdHdrId,       mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,       mode=IN,   jdbcType=NUMERIC},
        #{inWhLocCode,      mode=IN,   jdbcType=VARCHAR},
        #{inRcvQty,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    <select id="doGrApprovebundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrApprove
        (
        #{inRcvId,         mode=IN,   jdbcType=NUMERIC},
        #{inPoId,          mode=IN,   jdbcType=NUMERIC},
        #{inUserId,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrUpdateDtlWhLocbundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrUpdateDtlWhLoc
        (
        #{inRcvId,         mode=IN,   jdbcType=NUMERIC},
        #{inRcvLine,       mode=IN,   jdbcType=NUMERIC},
        #{inWhLocId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrDeleteDtlbundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrDeleteDtl
        (
        #{inReceiveDtlId, mode=IN,   jdbcType=NUMERIC},
        #{inReceiveQty,   mode=IN,   jdbcType=NUMERIC},
        #{inGdHdrId,      mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,     mode=IN,   jdbcType=NUMERIC},
        #{inUserId,       mode=IN,   jdbcType=NUMERIC},
        #{outError,       mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,    mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrSumSelectQtybundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrSumSelectQty
        (
        #{inPoId,           mode=IN,   jdbcType=NUMERIC},
        #{inPoLineRef,      mode=IN,   jdbcType=NUMERIC},
        #{inGrHdrId,        mode=IN,   jdbcType=NUMERIC},
        #{inGrLineNo,       mode=IN,   jdbcType=NUMERIC},
        #{inGdId,           mode=IN,   jdbcType=NUMERIC},
        #{inGdLineNo,       mode=IN,   jdbcType=NUMERIC},
        #{outSummary,       mode=OUT,  jdbcType=NUMERIC},
        #{outError,         mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,      mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGrSetLotSizebundling" parameterType="map" statementType="CALLABLE">
        { CALL pkg_bundling_gr.GrSetLotSize
        (
        #{inRcvId,           mode=IN,   jdbcType=NUMERIC},
        #{inRcvDtlId,      mode=IN,   jdbcType=NUMERIC},
        #{inLotSize,        mode=IN,   jdbcType=NUMERIC},
        #{outError,        mode=OUT,  jdbcType=NUMERIC},
        #{outMessages,     mode=OUT,  jdbcType=VARCHAR}
        )}
    </select>
    
    <select id="doGetItemRegional" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_bundling.GetItemRegional
        (
        #{InItemId,         mode=IN,    jdbcType=NUMERIC},
        #{OutStatus,         mode=OUT,    jdbcType=VARCHAR}
        )
        }
    </select>
        
    <select id="doOnUpdateDtl" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_bundling.OnUpdateDtl
        (
        #{InBundlingDtlId,          mode=IN,    jdbcType=NUMERIC},
        #{InQty,                    mode=IN,    jdbcType=NUMERIC},
        #{OutError,                 mode=OUT,   jdbcType=INTEGER},
        #{OutMessages,              mode=OUT,   jdbcType=VARCHAR}
        )
        }
    </select>
        
        
    <select id="doUpdateQtyByRegional" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_bundling.UpdateQtyByRegional
        (
        #{InId,                     mode=IN,    jdbcType=NUMERIC},
        #{InQty,                    mode=IN,    jdbcType=NUMERIC},
        #{InUserId,                 mode=IN,    jdbcType=NUMERIC},
        #{OutError,                 mode=OUT,   jdbcType=INTEGER},
        #{OutMessages,              mode=OUT,   jdbcType=VARCHAR}
        )
        }
    </select>
    
    
    <select id="doOnInsertSubDtl"     parameterType="map"     statementType="CALLABLE">
        {call pkg_tcash_bundling.OnInsertSubDtl
        (
        #{InBundlingId,     mode=IN,    jdbcType=NUMERIC},
        #{InBundlingNo,     mode=IN,    jdbcType=VARCHAR},
        #{InRegionalId,     mode=IN,    jdbcType=VARCHAR},
        #{InItemId,         mode=IN,    jdbcType=NUMERIC},
        #{InQty,            mode=IN,    jdbcType=NUMERIC},
        #{InUserId,         mode=IN,    jdbcType=NUMERIC},
        #{OutError,         mode=OUT,   jdbcType=INTEGER},
        #{OutMessages,      mode=OUT,   jdbcType=VARCHAR}
        )
        }
        
    </select>
    
    
    <select id="getListSnMapBundling" parameterType="map" resultType="id.my.berkah.tcash1.model.ListSnMapBundlingParam">
    select * from table(pkg_tcash_bundling.ListSnMapBundling(#{InBundlingId},#{InBundlingNo}))
    </select>
    
    
    <select id="getNonRegAvaiQty" parameterType="map"  statementType="CALLABLE">
        {CALL pkg_tcash_bundling.getNonRegAvaiQty
        (
        #{InBundlingId,      mode=IN, jdbcType=NUMERIC},
        #{InRegionalId,      mode=IN, jdbcType=NUMERIC},
        #{InItemId,          mode=IN, jdbcType=NUMERIC},
        #{InWhId,            mode=IN, jdbcType=NUMERIC},
        #{OutAvaiQty,        mode=OUT, jdbcType=NUMERIC},
        #{OutQty,            mode=OUT, jdbcType=NUMERIC}
        )
        }
    </select>
    
    <select id="doClearUpload" parameterType="map"  statementType="CALLABLE">
        {CALL pkg_tcash_wo.ClearUpload
        (
        #{InPoId,                   mode=IN,    jdbcType=NUMERIC},
        #{InPoLine,                 mode=IN,    jdbcType=NUMERIC},
        #{OutError,                 mode=OUT,   jdbcType=INTEGER},
        #{OutMessages,              mode=OUT,   jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="doSetLarType" parameterType="map"  statementType="CALLABLE">
        {CALL pkg_tcash_mapping_bdl.SetLarType
        (
        #{InId,                     mode=IN,    jdbcType=NUMERIC},
        #{InItemBdlId,              mode=IN,    jdbcType=NUMERIC},
        #{OutError,                 mode=OUT,   jdbcType=INTEGER},
        #{OutMessages,              mode=OUT,   jdbcType=VARCHAR}
        )
        }
    </select>


    <select id="doEEBdlTcash" parameterType="map"   statementType="CALLABLE">
       {CALL pkg_tcash_bundling.EEBDLTCASH
        (
        #{InBundlingId, mode=IN, jdbcType=NUMERIC}
        )        
       }
    </select>
    
    
    <select id="getListExportExcel" parameterType="map" resultType="id.my.berkah.tcash1.model.ListExportExcelParam" >
       select * from table(pkg_tcash_bundling.ListExportExcel(#{InBundlingId}))
    </select>
    
    
    <select id ="doOfValidateDetail" parameterType="map" statementType="CALLABLE">
      {CALL pkg_tcash_of.OfValidateDetail
        (
        #{InOfId,           mode=IN, jdbcType=NUMERIC},
        #{InCurrentLine,    mode=IN, jdbcType=NUMERIC},
        #{InFileName,       mode=IN, jdbcType=VARCHAR},
        #{OutStatus,        mode=OUT, jdbcType=VARCHAR}
        )
       } 
    </select>
    
    
    <select id="getListWip" parameterType="map" resultType="id.my.berkah.tcash1.model.ListWipParam">
        select  * from table(pkg_tcash_setup.ListWip(#{InWip}))
    </select>
    
    
    <select id ="doWipInsert" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_setup.WipInsert
        (
        #{InWipId,                  mode=IN,    jdbcType=NUMERIC},
        #{InWipCode,                mode=IN,    jdbcType=VARCHAR},
        #{InUserId,                 mode=IN,    jdbcType=NUMERIC},
        #{OutId,                    mode=OUT,   jdbcType=NUMERIC},
        #{OutError,                 mode=OUT,   jdbcType=INTEGER},
        #{OutMessages,              mode=OUT,   jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id ="doWipDelete" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_setup.WipDelete
        (
        #{InWipId,                  mode=IN,    jdbcType=NUMERIC},
        #{OutError,                 mode=OUT,   jdbcType=INTEGER},
        #{OutMessages,              mode=OUT,   jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id ="doWipExpire" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_setup.WipExpire
        (
        #{InId,                     mode=IN,    jdbcType=NUMERIC},
        #{InWipId,                  mode=IN,    jdbcType=NUMERIC},
        #{InUserId,                 mode=IN,    jdbcType=NUMERIC},
        #{OutError,                 mode=OUT,   jdbcType=INTEGER},
        #{OutMessages,              mode=OUT,   jdbcType=VARCHAR}
        )
        }
    </select>
    
    <select id="doGetTotalSN" parameterType="map" statementType="CALLABLE">
        {CALL pkg_bundling_gd.GetTotalSN
        (
     #{InMode,          mode=IN, jdbcType=VARCHAR},
     #{InGdHdrId,       mode=IN, jdbcType=NUMERIC},
     #{InGdLine,        mode=IN, jdbcType=NUMERIC},
     #{InPoId,          mode=IN, jdbcType=NUMERIC},
     #{InPoLine,          mode=IN, jdbcType=NUMERIC},
     #{OutTotalQty,          mode=OUT, jdbcType=NUMERIC}
    )
     }
    </select>
    
    
    <select id="doGetOrderQty" parameterType="map" statementType="CALLABLE">
        {CALL pkg_tcash_of.GetOrderQty
        (
        #{InPoId,        mode=IN,     jdbcType=NUMERIC},
        #{OutOrderQty,   mode=OUT,    jdbcType=NUMERIC}
        )
        }
    </select>
    
    </mapper>